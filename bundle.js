require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({"audio-lab":[function(require,module,exports){"use strict";module.exports=require("./lib/application")},{"./lib/application":4}],1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],2:[function(require,module,exports){"use strict";function Analyser(options){var self=this;return Block.apply(self,arguments),isFn(options)&&(self.generate=options),self.stats=new Stats({fftSize:1024}),self.content.appendChild(self.stats.element),self.node=self.stats.node,self.state="ready",self}var Block=require("./block"),app=require("./application"),isFn=require("is-function"),Stats=(require("emmy/on"),require("queried"),require("autosize"),require("audio-stats")),inherits=(app.context,require("inherits"));inherits(Analyser,Block);var proto=Analyser.prototype;proto.thumbnailTpl='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 2 100 100"><path d="M18 86.5c0 2.475-2.025 4.5-4.5 4.5h-9C2.025 91 0 88.975 0 86.5v-28C0 56.025 2.025 54 4.5 54h9c2.475 0 4.5 2.025 4.5 4.5v28zM45 86.5c0 2.475-2.025 4.5-4.5 4.5h-9c-2.475 0-4.5-2.025-4.5-4.5v-50c0-2.475 2.025-4.5 4.5-4.5h9c2.475 0 4.5 2.025 4.5 4.5v50zM73 86.5c0 2.475-2.025 4.5-4.5 4.5h-9c-2.475 0-4.5-2.025-4.5-4.5v-73c0-2.475 2.025-4.5 4.5-4.5h9c2.475 0 4.5 2.025 4.5 4.5v73zM100 86.5c0 2.475-2.025 4.5-4.5 4.5h-9c-2.475 0-4.5-2.025-4.5-4.5v-46c0-2.475 2.025-4.5 4.5-4.5h9c2.475 0 4.5 2.025 4.5 4.5v46z"/></svg>\n',module.exports=Analyser},{"./application":4,"./block":5,"audio-stats":15,autosize:20,"emmy/on":55,inherits:62,"is-function":63,queried:80}],3:[function(require,module,exports){"use strict";function Appender(app){var self=this;self.app=app,self.createElement(),on(self.app.container,"dblclick",function(e){e.target===self.app.container&&self.show()}),delegate(self.element,"click",".appender-item",function(e){var target=e.delegateTarget;new(self.itemsMap.get(target)),self.hide()})}var Emitter=require("events"),inherits=require("inherits"),domify=require("domify"),on=require("emmy/on"),hasDom=require("has-dom"),Dialog=require("dialog-component"),capfirst=require("mustring/capfirst"),delegate=require("emmy/delegate");inherits(Appender,Emitter);var proto=Appender.prototype;proto.createElement=function(){var self=this;return hasDom?(self.element=domify(self.template),self.itemsMap=new WeakMap,Object.keys(self.app.block).forEach(function(className){var block=self.app.block[className];if(block.prototype.appendable){var thumbnail=block.prototype.thumbnailTpl,itemEl=domify('\n			<div class="appender-item"\n				title="'+capfirst(className.toLowerCase())+'">\n			'+proto.itemTemplate+"\n			</div>\n		");itemEl.innerHTML=thumbnail,self.element.appendChild(itemEl),self.itemsMap.set(itemEl,block)}}),self.dialog=new Dialog(self.element),self.dialog.escapable().closable().effect("fade"),self):self},proto.show=function(){var self=this;return self.dialog.show(),self},proto.hide=function(){var self=this;return self.dialog.hide(),self},proto.template='\n<div class="appender">\n</div>\n',module.exports=Appender},{"dialog-component":22,domify:32,"emmy/delegate":41,"emmy/on":55,events:1,"has-dom":61,inherits:62,"mustring/capfirst":76}],4:[function(require,module,exports){"use strict";var Emitter=require("events"),ctx=require("audio-context"),hasDom=require("has-dom"),JSON=require("json3"),getUid=require("get-uid"),Appender=require("./appender"),selection=require("mucss/selection"),on=(require("queried"),require("emmy/on")),App=Object.create(Emitter.prototype);App.context=ctx,hasDom&&(App.container=document.body,App.container.classList.add("audio-lab-container"),selection.disable(App.container)),App.name=require("../package").name,App.version=require("../package").version,App.channels=2,App.isActive=!1,App.getId=function(){return getUid()};App.start=function(){return this.isActive?this:(this.isActive=!0,this.emit("start"),this)},App.stop=function(){return this.isActive?(this.isActive=!1,this.emit("stop"),this):this},App.items={},App.storage=hasDom?localStorage:null,App.save=function(){var self=this,str=JSON.stringify(self.items);return self.storage.setItem(self.name,str),self},App.load=function(){var self=this,src=self.storage.getItem(self.name);if(!src)return!1;var itemsData=JSON.parse(src),idAlias={},ids=Object.keys(itemsData);return ids.length<1?!1:(ids.filter(function(id){var data=itemsData[id];if("Connection"===data["class"])return data.from&&data.to;console.log(data);var item=new self.block[data["class"]];item.fromJSON(data),idAlias[id]=item.id}).forEach(function(id){var data=itemsData[id];self.items[idAlias[data.from]].connect(self.items[idAlias[data.to]])}),!0)},App.autosave=1200,App.init=function(){var self=this;return setInterval(function(){self.save()},self.autosave),self.load()||self.createDefaultProject(),self.appender=new Appender(self),on(document,"keydown",function(e){32===e.which&&(self.isActive?self.stop():self.start())}),setTimeout(function(){self.start()}),self},module.exports=App,App.block={},[require("./radio"),require("./oscillator"),require("./output"),require("./generator"),require("./analyser"),require("./microphone"),require("./gain")].forEach(function(fn){App.block[fn.name]=fn}),App.createDefaultProject=function(){var self=this,generator=new(require("./generator")),analyser=new(require("./analyser")),output=new(require("./output"));return generator.connect(analyser),analyser.connect(output),self.save(),self}},{"../package":107,"./analyser":2,"./appender":3,"./gain":7,"./generator":8,"./microphone":9,"./oscillator":10,"./output":11,"./radio":12,"audio-context":13,"emmy/on":55,events:1,"get-uid":57,"has-dom":61,json3:64,"mucss/selection":74,queried:80}],5:[function(require,module,exports){"use strict";function Block(options){var self=this;options&&"object"==typeof options&&extend(this,options),self.createElement(),self.outputs=new Set,self.inputs=new Set,self.id=app.getId(),app.items[self.id]=self,self.element.block=self,defineState(self,"state",self.state),self.state="loading",on(app,"start."+self.id,function(){self.start()}),on(app,"stop."+self.id,function(){self.stop()}),self.update()}var Emitter=require("events"),app=require("./application"),domify=require("domify"),hasDom=require("has-dom"),Draggable=require("draggy"),Dialog=require("dialog-component"),Connection=require("./connection"),offset=(require("json3"),require("mucss/offset")),delegate=require("emmy/delegate"),on=require("emmy/on"),off=require("emmy/off"),css=(require("emmy/once"),require("mucss/css")),inherits=require("inherits"),extend=require("xtend/mutable"),q=(require("global/window"),require("mucss/selection"),require("queried")),defineState=require("define-state");inherits(Block,Emitter);var proto=Block.prototype;proto.state={loading:{before:function(){var self=this;self.element.classList.add("block-loading")},after:function(){var self=this;self.element.classList.remove("block-loading")}},_:{},playing:{},error:{before:function(){var self=this;self.element.classList.add("block-error")},after:function(){var self=this;self.element.classList.remove("block-error")}}},proto.createElement=function(){var self=this;if(hasDom){if(self.element=domify('\n		<div class="block block-'+self.constructor.name.toLowerCase()+'"\n			tabindex="1"\n			title="'+self.constructor.name.toLowerCase()+'">\n			<div class="block-thumbnail">'+self.thumbnailTpl+'</div>\n			<div class="block-content" hidden>'+self.contentTpl+'</div>\n			<div class="block-out" hidden></div>\n			<div class="block-in" hidden></div>\n		</div>\n	'),app.container.appendChild(self.element),self.draggable=new Draggable(self.element,{within:app.container,handle:".block-thumbnail",threshold:10,css3:!1}),self.draggable.move(300*Math.random(),300*Math.random()),self.content=q(".block-content",self.element),!self.content)throw Error("Block has no content element");return self.element.removeChild(self.content),self.content.removeAttribute("hidden"),self.dialog=new Dialog(self.content),self.dialog.escapable().closable().effect("fade"),on(self.element,"dblclick",function(e){self.show()}),on(self.draggable,"drag."+self.id,function(){self.update()}),on(self.element,"mousedown."+self.id,function(){self.element.focus()}),on(self.element,"keydown."+self.id,function(e){46===e.which&&self.destroy(),27===e.which&&self.element.blur(),38===e.which||40===e.which||37===e.which||39===e.which,13===e.which&&self.show()}),delegate(self.element,"mousedown."+self.id,".block-out",function(e){new Connection(self)}),self}},proto.numberOfOutputs=1,proto.numberOfInputs=1,proto.contentTpl="",proto.thumbnailTpl="",proto.appendable=!0,proto.deletable=!0,proto.destroy=function(){var self=this;return self.deletable?(app.container.removeChild(self.element),delete app.items[self.id],self.outputs.forEach(function(conn){conn.destroy()}),self.inputs.forEach(function(conn){conn.destroy()}),off(self.element,"mousedown"),off(self.element,"keydown"),off(self.element,"dblclick"),off(self.draggable,"drag."+self.id),off(app,"start."+self.id),off(app,"stop."+self.id),self.element.block=null,self.element=null,self.draggable.destroy(),void(self.draggable=null)):self},proto.show=function(){var self=this;return hasDom?(self.dialog.show(),self.dialog.el.focus(),self.emit("show"),self):self},proto.hide=function(){var self=this;return hasDom?(self.dialog.hide(),self.emit("hide"),self):self},proto.draw=function(){var self=this;return self.emit("draw"),self},proto.update=function(){var self=this;return self.numberOfInputs>self.inputs.size?q(".block-in",self.element).removeAttribute("hidden"):q(".block-in",self.element).setAttribute("hidden",!0),self.numberOfOutputs>self.outputs.size?q(".block-out",self.element).removeAttribute("hidden"):q(".block-out",self.element).setAttribute("hidden",!0),self.emit("update"),self},proto.connect=function(block){var self=this;if(self.outputs.size>=self.numberOfOutputs)return self;if(block.inputs.size>=block.numberOfInputs)return self;new Connection(self,block);return self.emit("connect"),self},proto.disconnect=function(target){var self=this;return self.outputs.forEach(function(conn){target&&conn.to!==target||(self.outputs["delete"](conn),target.inputs["delete"](conn))}),self.emit("disconnect"),self},proto.start=function(){var self=this;if(self.isActive)return self;if(self.isActive=!0,self.node&&self.outputs.forEach(function(connection){connection.to.start(),connection.from.node.connect(connection.to.node)}),self.node&&self.node.start)try{self.node.start()}catch(e){console.log(e.message)}return self.emit("start"),self},proto.restart=function(){return this.stop().start()},proto.stop=function(){var self=this;if(!self.isActive)return self;if(self.isActive=!1,self.node&&self.node.stop)try{self.node.stop()}catch(e){console.log(e.message)}return self.node&&self.node.disconnect(),self.emit("stop"),self},proto.toJSON=function(){var self=this,data={top:offset(self.element).top,left:offset(self.element).left,"class":self.constructor.name};return data},proto.fromJSON=function(data){var self=this;return css(self.element,{top:data.top,left:data.left}),self},module.exports=Block},{"./application":4,"./connection":6,"define-state":21,"dialog-component":22,domify:32,draggy:33,"emmy/delegate":41,"emmy/off":54,"emmy/on":55,"emmy/once":56,events:1,"global/window":60,"has-dom":61,inherits:62,json3:64,"mucss/css":66,"mucss/offset":70,"mucss/selection":74,queried:80,"xtend/mutable":106}],6:[function(require,module,exports){"use strict";function Connection(a,b){var self=this;self.id=app.getId(),app.items[self.id]=self,self.createElement(),defineState(self,"state",self.state),self.from=a,self.to=b,a?b?a&&b&&(self.state="connected"):self.state="hangling":self.state="hangling-end"}var Emitter=require("events"),hasDom=require("has-dom"),css=require("mucss/css"),offset=require("mucss/offset"),app=require("./application"),on=require("emmy/on"),off=require("emmy/off"),win=require("global/window"),domify=require("domify"),inherits=require("inherits"),defineState=require("define-state"),q=require("queried");inherits(Connection,Emitter);var proto=Connection.prototype;proto.createElement=function(){var self=this;return hasDom?(self.element=domify('\n		<div class="connection">\n			<div class="connection-start"></div>\n			<div class="connection-end"></div>\n		</div>\n	'),app.container.appendChild(self.element),on(win,"resize."+self.id,function(){self.update()}),self.endElement=q(".connection-end",self.element),self.startElement=q(".connection-start",self.element),self):self},proto.type="audio",proto.channels=2,proto.state={_:{},hangling:{before:function(){var self=this;app.container.classList.add("connecting"),self.update(offset(self.from.element),offset(self.from.element));var lastDroppable;on(document,"mousemove."+self.id,function(e){var coord=offset(self.from.element),mouseCoord={left:e.pageX-coord.width/2,top:e.pageY-coord.height/2,width:0,height:0};self.update(coord,mouseCoord),q.all(".block-in:not([hidden])",app.container).forEach(function(el){var blockEl=el.closest(".block");if(blockEl!==self.from.element){var angle,targetCoord=offset(blockEl),dx=-mouseCoord.left+targetCoord.left,dy=-mouseCoord.top+targetCoord.top,d=Math.sqrt(dx*dx+dy*dy);80>d&&(dx=-coord.left+targetCoord.left,dy=-coord.top+targetCoord.top),angle=Math.atan2(dy,dx),css(el,"transform","rotate("+(angle+Math.PI)+"rad)")}});var closestBlockEl=e.target.closest(".block");if(lastDroppable&&lastDroppable!=closestBlockEl&&(lastDroppable.classList.remove("block-connection-target"),self.element.classList.remove("connection-available"),lastDroppable=null),closestBlockEl&&closestBlockEl!==self.element){var closestBlock=closestBlockEl.block;closestBlock.inputs.size>=closestBlock.numberOfInputs||closestBlockEl!==lastDroppable&&(closestBlockEl.classList.add("block-connection-target"),self.element.classList.add("connection-available"),lastDroppable=closestBlockEl)}}),on(document,"mouseup."+self.id,function(e){off(document,"mousemove."+self.id),off(document,"mouseup."+self.id),app.container.classList.remove("connecting"),self.element.classList.remove("connection-available"),lastDroppable?(lastDroppable.classList.remove("block-connection-target"),self.to=lastDroppable.block,lastDroppable=null,self.state="connected"):self.destroy()})},after:function(){}},connected:{before:function(){var self=this;self.from.outputs.add(self),self.to.inputs.add(self),self.from.update(),self.to.update(),self.from.restart(),self.to.restart(),self.update(),self.element.classList.add("connection-connected"),on(self.from,"update."+self.id,function(){self.update()}),on(self.to,"update."+self.id,function(){self.update()}),on(self.endElement,"mousedown."+self.id,function(e){self.to.inputs["delete"](self),self.to.stop().update(),self.state="hangling"})},after:function(){var self=this;off(self.from,"update."+self.id),off(self.to,"update."+self.id),off(self.endElement,"mousedown."+self.id),off(self.startElement,"mousedown."+self.id),self.element.classList.remove("connection-connected")}}},proto.destroy=function(){var self=this;self.state=null,self.from&&self.from.outputs.has(self)&&(self.from.outputs["delete"](self),self.from.update()),self.to&&self.to.inputs.has(self)&&(self.to.inputs["delete"](self),self.to.update()),self.from&&(off(self.from,""),self.from.restart()),self.to&&self.to.restart(),off(win,"resize."+self.id),self.from=null,self.to=null,app.container.removeChild(self.element),delete app.items[self.id],app.save()},proto.update=function(fromCoord,toCoord){var self=this;fromCoord||(fromCoord=offset(self.from.element)),toCoord||(toCoord=offset(self.to.element));var dx=toCoord.left-fromCoord.left,dy=toCoord.top-fromCoord.top,w=Math.sqrt(dx*dx+dy*dy);css(self.element,"width",w);var h=self.element.clientHeight;css(self.element,{top:fromCoord.top+fromCoord.height/2-h/2,left:fromCoord.left+fromCoord.width/2});var angle=Math.atan2(dy,dx);return css(self.element,"transform","rotate("+angle+"rad)"),self},proto.toJSON=function(){var self=this;if(self.from&&self.to){var data={from:self.from.id,to:self.to.id,"class":self.constructor.name};return data}},proto.fromJSON=function(data){var self=this;return self.connect(app.items[data.from],app.items[data.to]),self},module.exports=Connection},{"./application":4,"define-state":21,domify:32,"emmy/off":54,"emmy/on":55,events:1,"global/window":60,"has-dom":61,inherits:62,"mucss/css":66,"mucss/offset":70,queried:80}],7:[function(require,module,exports){"use strict";function Gain(options){var self=this;return Block.apply(self,arguments),self.input=q(".gain-value",self.content),on(self.input,"input",function(){self.node.gain.value=self.input.value}),self.node=app.context.createGain(),self.node.gain.value=self.input.value,self.state="ready",self}var Block=require("./block"),app=require("./application"),on=(require("is-function"),require("emmy/on")),q=require("queried"),inherits=require("inherits");require("mutype/is-string"),app.context;inherits(Gain,Block);var proto=Gain.prototype;proto.contentTpl='\n<input class="gain-value" type="range" value="1" step="0.01" min="0" max="1" orientation="vertical"/>\n<button class="gain-mute">x</button>\n',proto.thumbnailTpl='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 125"><path fill="none" stroke="#000" stroke-width="4.963" stroke-miterlimit="10" d="M91.75 69.492H17.583L91.75 39.508z"/><path d="M65.75 50.683l-45 18.192h45"/></svg>\n',proto.toJSON=function(){var self=this,data=Block.prototype.toJSON.apply(self);return data.value=self.input.value,data},proto.fromJSON=function(data){var self=this;return Block.prototype.fromJSON.call(self,data),console.log(data),self.input.value=data.value,self.node.gain.value=parseFloat(data.value),self},module.exports=Gain},{"./application":4,"./block":5,"emmy/on":55,inherits:62,"is-function":63,"mutype/is-string":79,queried:80}],8:[function(require,module,exports){"use strict";function Generator(options){var self=this;return Block.apply(self,arguments),isFn(options)&&(self.generate=options),self.textarea=q(".block-code",self.content),self.textarea.value=self.toJSON().generate,autosize(self.textarea),on(self.textarea,"change",function(){var src=self.textarea.value;self.setGenerator(src)}),self.setGenerator(self.generate),self.state="ready",self}var Block=require("./block"),app=require("./application"),isFn=require("is-function"),on=require("emmy/on"),off=require("emmy/off"),q=require("queried"),autosize=require("autosize"),baudio=require("webaudio"),inherits=require("inherits"),isString=require("mutype/is-string"),ctx=app.context;inherits(Generator,Block);var proto=Generator.prototype;proto.numberOfInputs=0,proto.contentTpl='\nfunction (t, i, sample) {\n<textarea class="block-code" rows="10"></textarea>\n}\n',proto.thumbnailTpl='\n<style>\n.block-generator-thumbnail {\n	font-family: serif;\n	font-style: italic;\n	font-size: 2.4rem;\n	font-weight: bolder;\n}\n</style>\n<span class="block-generator-thumbnail">f</span>\n',proto.generate=function(t,i,sample){return Math.cos(2*Math.PI*220*t)},proto.setGenerator=function(fn){var self=this;isString(fn)&&(fn=fn.replace(/\n/," "),fn=new Function("t","i","sample",fn));var isActive=self.isActive;return isActive&&self.stop(),self.generate=fn,self.textarea.value=self.toJSON().generate,self.node=baudio(ctx,self.generate),isActive&&self.start(),self},proto.destroy=function(){var self=this;return autosize.destroy(self.textarea),self.autosize=null,off(self.textarea),self.textarea=null,Block.prototype.destroy.apply(self)},proto.toJSON=function(){var self=this,data=Block.prototype.toJSON.apply(self),fnStr=self.generate.toString();return fnStr=fnStr.slice(fnStr.indexOf("{")+1,fnStr.lastIndexOf("}")).trim(),data.generate=fnStr,data},proto.fromJSON=function(data){var self=this;return Block.prototype.fromJSON.call(self,data),data.generate&&self.setGenerator(data.generate),self},module.exports=Generator},{"./application":4,"./block":5,autosize:20,"emmy/off":54,"emmy/on":55,inherits:62,"is-function":63,"mutype/is-string":79,queried:80,webaudio:105}],9:[function(require,module,exports){"use strict";function Microphone(options){var self=this;return Block.apply(self,arguments),getUserMedia({video:!1,audio:!0},function(err,stream){err?(console.log("failed to get microphone"),self.state="error"):(self.node=app.context.createMediaStreamSource(stream),self.restart(),self.state="ready")}),self}var Block=require("./block"),app=require("./application"),inherits=(require("is-function"),require("emmy/on"),require("queried"),app.context,require("inherits")),getUserMedia=require("getusermedia");inherits(Microphone,Block);var proto=Microphone.prototype;proto.numberOfInputs=0,proto.thumbnailTpl='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 85 115"><path d="M37.5 50C44.41 50 50 44.403 50 37.5v-25C50 5.597 44.41 0 37.5 0S25 5.597 25 12.5v25C25 44.403 30.59 50 37.5 50z" fill="#010101"/><path d="M50 87.5h-6.25V74.365C61.45 71.375 75 56.035 75 37.5v-6.055c0-3.455-2.795-6.25-6.25-6.25s-6.25 2.795-6.25 6.25V37.5c0 13.788-11.206 25-25 25s-25-11.212-25-25v-6.055c0-3.455-2.795-6.25-6.25-6.25S0 27.99 0 31.445V37.5c0 18.536 13.55 33.875 31.25 36.865V87.5H25c-6.91 0-12.5 5.59-12.5 12.5h50c0-6.91-5.59-12.5-12.5-12.5z" fill="#010101"/></svg>\n',module.exports=Microphone},{"./application":4,"./block":5,"emmy/on":55,getusermedia:58,inherits:62,"is-function":63,queried:80}],10:[function(require,module,exports){"use strict";function Oscillator(options){var self=this;return Block.apply(self,arguments),self.state="ready",self}var Block=require("./block"),app=require("./application"),inherits=(require("is-function"),require("emmy/on"),require("queried"),require("inherits"));require("mutype/is-string"),app.context;inherits(Oscillator,Block);var proto=Oscillator.prototype;proto.numberOfInputs=0,proto.createOscillator=function(){var self=this;return self.node=app.context.createOscillator(),self.node.type="square",self.node.frequency.value=440,self},proto.start=function(){var self=this;return self.createOscillator(),Block.prototype.start.call(self)},proto.contentTpl='\n<input class="oscillator-frequency" type="number" value="440"/>\n<input class="oscillator-value" type="number" value="440"/>\n<input class="oscillator-detune" type="number" value="440"/>\n<input class="oscillator-type" type="number" value="440"/>\n',proto.thumbnailTpl='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="247.6 741.9 100 125"><path d="M320.3 801.9c-7.1 0-10.7-4.5-13.7-8.1-3-3.7-5-5.9-9-5.9s-6.1 2.2-9 5.9c-2.9 3.6-6.6 8.1-13.7 8.1s-10.7-4.5-13.7-8.1c-3-3.7-5-5.9-9-5.9v-6c7.1 0 10.7 4.5 13.7 8.1 3 3.7 5 5.9 9 5.9s6.1-2.2 9-5.9c2.9-3.6 6.6-8.1 13.7-8.1s10.7 4.5 13.7 8.1c3 3.7 5 5.9 9 5.9s6.1-2.2 9-5.9c2.9-3.6 6.6-8.1 13.7-8.1v6c-4 0-6.1 2.2-9 5.9-2.9 3.6-6.6 8.1-13.7 8.1z"/></svg>\n',proto.toJSON=function(){var self=this,data=Block.prototype.toJSON.apply(self);return data},proto.fromJSON=function(data){var self=this;return Block.prototype.fromJSON.call(self,data),self},module.exports=Oscillator},{"./application":4,"./block":5,"emmy/on":55,inherits:62,"is-function":63,"mutype/is-string":79,queried:80}],11:[function(require,module,exports){"use strict";function Output(options){var self=this;return Block.apply(self,arguments),self.node=app.context.destination,self.state="ready",self}var Block=require("./block"),app=require("./application"),inherits=require("inherits");inherits(Output,Block);var proto=Output.prototype;proto.numberOfOutputs=0,proto.numberOfInputs=5,proto.deletable=!1,proto.appendable=!1,proto.thumbnailTpl='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -3 100 75"><path d="M6.988 16.6C2.132 16.6 0 28.03 0 36.8c0 8.77 2.275 19.938 6.456 19.938h10.878c6.448 0 16.465 10.998 21.532 15.22 3.643 3.034 9.998 1.95 9.998-4.502l.013-61.602c0-6.22-6.412-7.25-10.007-4.08-5.262 4.635-14.946 14.822-21.267 14.822H6.988zM69.578 13.668c-1.904-1.882-4.93-1.882-6.842.013-1.888 1.892-1.888 4.944.01 6.842v-.01c4.173 4.175 6.75 9.907 6.75 16.266 0 6.347-2.568 12.065-6.74 16.23-1.908 1.905-1.908 4.954-.01 6.865.934.94 2.17 1.416 3.416 1.416 1.247 0 2.522-.478 3.428-1.417 5.898-5.905 9.566-14.093 9.566-23.08.005-9.027-3.676-17.227-9.578-23.125z"/><path d="M85.324 1.463c-1.97-1.95-5.094-1.95-7.057 0-1.96 1.952-1.96 5.116 0 7.058C85.51 15.76 90.02 25.726 90.02 36.776s-4.47 20.996-11.744 28.25c-1.973 1.945-1.973 5.093 0 7.053.942.965 2.252 1.467 3.538 1.467 1.28 0 2.6-.503 3.53-1.467 9.043-9.036 14.67-21.533 14.657-35.303-.043-13.765-5.638-26.292-14.676-35.312z"/></svg>\n',module.exports=Output},{"./application":4,"./block":5,inherits:62}],12:[function(require,module,exports){"use strict";function Radio(url){var self=this;Block.apply(self,arguments),self.audio=document.createElement("audio"),self.audio.autoplay=!0,self.audio.src=self.url,self.node=app.context.createMediaElementSource(self.audio),self.audio.play(),self.input=q("input",self.content),self.input.value=self.url,on(self.input,"change",function(){self.audio.src=self.input.value}),self.state="ready"}var Block=require("./block"),inherits=(require("events"),require("inherits")),app=require("./application"),q=require("queried"),on=require("emmy/on");inherits(Radio,Block);var proto=Radio.prototype;proto.url="assets/chopin.mp3",proto.numberOfInputs=0,proto.contentTpl='\n<input id="radio-url" class="block-input" placeholder="Radio station URL" type="url" value=""/>\n',proto.thumbnailTpl='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="20 0 80 100"><path d="M83.47 29.076c-.725-8.188-4.182-14.112-9.737-16.68-1.88-.87-3.928-1.312-6.088-1.312-9.176 0-19.277 7.808-26.167 19.86l-6.482-4.53 2.143-3.22c.917-1.38.542-3.24-.837-4.16-1.38-.917-3.242-.542-4.16.837l-2.066 3.107-1.25-.873 2.047-3.077c.918-1.38.543-3.242-.836-4.16-1.38-.918-3.242-.543-4.16.836l-1.97 2.963-2.797-1.955c-1.357-.946-3.228-.618-4.177.74-.95 1.36-.618 3.23.74 4.18l2.91 2.033-1.883 2.83c-.918 1.38-.543 3.242.836 4.16.51.34 1.088.502 1.66.502.97 0 1.922-.47 2.5-1.338L25.5 27.1l1.25.873-1.788 2.687c-.918 1.38-.543 3.242.836 4.16.51.34 1.088.502 1.66.502.97 0 1.922-.47 2.5-1.338l1.71-2.573 7.07 4.942c-7.97 17.865-5.79 35.626 5.11 40.665 1.88.87 3.928 1.31 6.088 1.31s4.372-.437 6.58-1.255v8.842c0 1.657 1.344 3 3 3h21.088c.993 0 1.92-.49 2.48-1.312s.675-1.863.31-2.787l-9.164-23.287c1.563-2.378 3-4.958 4.27-7.707 3.875-8.37 5.637-17.158 4.967-24.744zm-7.267 53.84H62.52v-9.012c2.597-1.786 5.12-4.068 7.473-6.77l6.21 15.78zm-3.144-31.61c-5.634 12.18-15.357 21.023-23.12 21.023-1.286 0-2.486-.256-3.57-.757-7.425-3.433-8.496-17.693-2.612-31.713l13.316 9.306c.523.365 1.123.54 1.716.54.946 0 1.878-.445 2.46-1.28.95-1.358.62-3.23-.74-4.178l-14.078-9.84c5.75-10.226 14.263-17.323 21.214-17.323 1.284 0 2.485.255 3.57.756 3.52 1.63 5.75 5.807 6.276 11.764.58 6.558-.994 14.265-4.433 21.7z"/></svg>\n',module.exports=Radio},{"./application":4,"./block":5,"emmy/on":55,events:1,inherits:62,queried:80}],13:[function(require,module,exports){var window=require("global/window"),Context=window.AudioContext||window.webkitAudioContext;Context&&(module.exports=new Context)},{"global/window":14}],14:[function(require,module,exports){(function(global){"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:module.exports={};
}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(require,module,exports){function Stats(options){function draw(){requestAnimationFrame(draw),self.draw(),self.emit("draw",self.canvas)}if(!(this instanceof Stats))return new Stats(el,options);var self=this;options=options||{},extend(self,options),self.audioContext=audioContext,self.element||(self.element=doc.createElement("div")),self.element.classList.add("audio-stats"),self.canvas=doc.createElement("canvas"),self.canvas.classList.add("audio-stats-canvas"),self.canvasContext=self.canvas.getContext("2d"),self.element.appendChild(self.canvas),lifecycle(self.element),on(self.element,"attached",function(){self.update()}),self.update(),on(win,"resize",function(){self.update()}),self.node=audioContext.createAnalyser(),self.node.smoothingTimeConstant=self.smoothingTimeConstant,self.node.maxDecibels=self.maxDecibels,self.node.minDecibels=self.minDecibels,self.node.fftSize=self.fftSize,self.bufferLength=self.node.frequencyBinCount,self.data=new Uint8Array(self.bufferLength),self.decades=Math.round(lg(self.maxFrequency/self.minFrequency)),self.decadeOffset=lg(self.minFrequency/10),self.grid=doc.createElement("div"),self.grid.classList.add("audio-stats-grid");for(var f=self.minFrequency;f<=self.maxFrequency;f*=10){var line=doc.createElement("span");line.classList.add("audio-stats-line"),line.classList.add("audio-stats-line-h"),line.setAttribute("data-frequency",f),line.style.left=self.map(f,100)+"%",self.grid.appendChild(line)}for(var mRange=self.maxDecibels-self.minDecibels,m=self.minDecibels,i=0;m<=self.maxDecibels;m+=10,i+=10){var line=doc.createElement("span");line.classList.add("audio-stats-line"),line.classList.add("audio-stats-line-v"),line.setAttribute("data-magnitude",m),line.style.bottom=100*i/mRange+"%",self.grid.appendChild(line)}self.element.appendChild(self.grid),draw()}var lg=require("mumath/lg"),extend=require("xtend/mutable"),lifecycle=require("lifecycle-events"),Emitter=require("events"),on=require("emmy/on"),audioContext=require("audio-context");module.exports=Stats;var doc=document,win=window,proto=Stats.prototype=Object.create(Emitter.prototype);proto.connect=function(target){this.node.connect(target)};proto.draw=function(){var ctx=this.canvasContext,canvas=this.canvas,w=canvas.width,h=canvas.height,analyser=this.node,data=this.data;analyser.getByteFrequencyData(data),ctx.clearRect(0,0,w,h),ctx.fillStyle=this.color;for(var ih,f,x,f,i,dl,dr,Fs=this.audioContext.sampleRate,x=0;w>x;x++)f=this.unmap(x,w),i=2*f*data.length/Fs,dl=data[Math.floor(i)],dr=data[Math.ceil(i)],ih=(dr*(i%1)+dl*(1-i%1))/255*h,ctx.fillRect(x,h-ih,1,ih)},proto.minFrequency=20,proto.maxFrequency=2e4,proto.maxDecibels=-30,proto.minDecibels=-90,proto.fftSize=8192,proto.smoothingTimeConstant=.8,proto.map=function(f,w){var decadeW=w/this.decades;return decadeW*(lg(f)-1-this.decadeOffset)},proto.unmap=function(x,w){var decadeW=w/this.decades;return Math.pow(10,x/decadeW+1+this.decadeOffset)},proto.update=function(){this.color=getComputedStyle(this.canvas).color||"black",this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight}},{"audio-context":13,"emmy/on":55,events:1,"lifecycle-events":16,"mumath/lg":18,"xtend/mutable":106}],16:[function(require,module,exports){function enable(query,within){query||(query="*"),within=getElements(within||doc),mTargets.push(query),observer.observe(within,{subtree:!0,childList:!0}),query instanceof Node&&!doc.contains(query)||checkAddedNodes(getElements.call(within,query,!0))}function disable(target){var idx=mTargets.indexOf(target);idx>=0&&mTargets.splice(idx,1)}function mutationHandler(mutations){mutations.forEach(function(mutation){checkAddedNodes(mutation.addedNodes),checkRemovedNodes(mutation.removedNodes)})}function checkAddedNodes(nodes){for(var node,newItems=!1,i=nodes.length;i--;)node=nodes[i],1===node.nodeType&&(attachedItemsSet.has(node)||(node=getObservee(node),node&&(newItems||(newItems=!0),attachedItemsSet.add(node),emit(node,lifecycle.attachedCallbackName,null,!0))))}function checkRemovedNodes(nodes){for(var i=nodes.length;i--;){var node=nodes[i];1===node.nodeType&&attachedItemsSet.has(node)&&(emit(node,lifecycle.detachedCallbackName,null,!0),attachedItemsSet["delete"](node))}}function getObservee(node){for(var target,i=mTargets.length;i--;){if(target=mTargets[i],node===target)return node;if("string"==typeof target&&node.matches(target))return node;if(node.contains(target))return target}}var emit=(require("emmy/on"),require("emmy/emit")),getElements=(require("emmy/off"),require("tiny-element")),doc=document,lifecycle=(window,module.exports=enable);lifecycle.enable=enable,lifecycle.disable=disable,lifecycle.attachedCallbackName="attached",lifecycle.detachedCallbackName="detached";var MO=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,observer=new MO(mutationHandler),mTargets=[],attachedItemsSet=new WeakSet},{"emmy/emit":42,"emmy/off":54,"emmy/on":55,"tiny-element":17}],17:[function(require,module,exports){var slice=[].slice;module.exports=function(selector,multiple){var ctx=this===window?document:this;return"string"==typeof selector?multiple?slice.call(ctx.querySelectorAll(selector),0):ctx.querySelector(selector):selector instanceof Node||selector===window||!selector.length?multiple?[selector]:selector:slice.call(selector,0)}},{}],18:[function(require,module,exports){module.exports=require("./wrap")(function(a){return Math.log(a)/Math.log(10)})},{"./wrap":19}],19:[function(require,module,exports){module.exports=function(fn){return function(a){var args=arguments;if(a instanceof Array){for(var slice,result=new Array(a.length),i=0;i<a.length;i++){slice=[];for(var val,j=0,l=args.length;l>j;j++)val=args[j]instanceof Array?args[j][i]:args[j],val=val,slice.push(val);result[i]=fn.apply(this,slice)}return result}if("object"==typeof a){var slice,result={};for(var i in a){slice=[];for(var val,j=0,l=args.length;l>j;j++)val="object"==typeof args[j]?args[j][i]:args[j],val=val,slice.push(val);result[i]=fn.apply(this,slice)}return result}return fn.apply(this,args)}}},{}],20:[function(require,module,exports){!function(global,factory){if("function"==typeof define&&define.amd)define(["exports","module"],factory);else if("undefined"!=typeof exports&&"undefined"!=typeof module)factory(exports,module);else{var mod={exports:{}};factory(mod.exports,mod),global.autosize=mod.exports}}(this,function(exports,module){"use strict";function assign(ta){function init(){var style=window.getComputedStyle(ta,null);"vertical"===style.resize?ta.style.resize="none":"both"===style.resize&&(ta.style.resize="horizontal"),heightOffset="content-box"===style.boxSizing?-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)):parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth),update()}function changeOverflow(value){var width=ta.style.width;ta.style.width="0px",ta.offsetWidth,ta.style.width=width,overflowY=value,setOverflowY&&(ta.style.overflowY=value),update()}function update(){var startHeight=ta.style.height,htmlTop=document.documentElement.scrollTop,bodyTop=document.body.scrollTop,originalHeight=ta.style.height;ta.style.height="auto";var endHeight=ta.scrollHeight+heightOffset;if(0===ta.scrollHeight)return void(ta.style.height=originalHeight);ta.style.height=endHeight+"px",document.documentElement.scrollTop=htmlTop,document.body.scrollTop=bodyTop;var style=window.getComputedStyle(ta,null);if(style.height!==ta.style.height){if("visible"!==overflowY)return void changeOverflow("visible")}else if("hidden"!==overflowY)return void changeOverflow("hidden");if(startHeight!==ta.style.height){var evt=document.createEvent("Event");evt.initEvent("autosize:resized",!0,!1),ta.dispatchEvent(evt)}}var _ref=void 0===arguments[1]?{}:arguments[1],_ref$setOverflowX=_ref.setOverflowX,setOverflowX=void 0===_ref$setOverflowX?!0:_ref$setOverflowX,_ref$setOverflowY=_ref.setOverflowY,setOverflowY=void 0===_ref$setOverflowY?!0:_ref$setOverflowY;if(ta&&ta.nodeName&&"TEXTAREA"===ta.nodeName&&!ta.hasAttribute("data-autosize-on")){var heightOffset=null,overflowY="hidden",destroy=function(style){window.removeEventListener("resize",update),ta.removeEventListener("input",update),ta.removeEventListener("keyup",update),ta.removeAttribute("data-autosize-on"),ta.removeEventListener("autosize:destroy",destroy),Object.keys(style).forEach(function(key){ta.style[key]=style[key]})}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener("autosize:destroy",destroy),"onpropertychange"in ta&&"oninput"in ta&&ta.addEventListener("keyup",update),window.addEventListener("resize",update),ta.addEventListener("input",update),ta.addEventListener("autosize:update",update),ta.setAttribute("data-autosize-on",!0),setOverflowY&&(ta.style.overflowY="hidden"),setOverflowX&&(ta.style.overflowX="hidden",ta.style.wordWrap="break-word"),init()}}function destroy(ta){if(ta&&ta.nodeName&&"TEXTAREA"===ta.nodeName){var evt=document.createEvent("Event");evt.initEvent("autosize:destroy",!0,!1),ta.dispatchEvent(evt)}}function update(ta){if(ta&&ta.nodeName&&"TEXTAREA"===ta.nodeName){var evt=document.createEvent("Event");evt.initEvent("autosize:update",!0,!1),ta.dispatchEvent(evt)}}var autosize=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(autosize=function(el){return el},autosize.destroy=function(el){return el},autosize.update=function(el){return el}):(autosize=function(el,options){return el&&Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options)}),el},autosize.destroy=function(el){return el&&Array.prototype.forEach.call(el.length?el:[el],destroy),el},autosize.update=function(el){return el&&Array.prototype.forEach.call(el.length?el:[el],update),el}),module.exports=autosize})},{}],21:[function(require,module,exports){function defineState(target,property,descriptor,isFn){isFn?target[property]=function(){return arguments.length?state.set(arguments[0]):state.get()}:Object.defineProperty(target,property,{set:function(value){return state.set(value)},get:function(){return state.get()}});var state=new State(descriptor,target);return target}module.exports=defineState;var State=require("st8")},{st8:102}],22:[function(require,module,exports){function dialog(title,msg){switch(arguments.length){case 2:return new Dialog({title:title,message:msg});case 1:return new Dialog({message:title})}}function Dialog(options){Emitter.call(this),options=options||{},this.template=require("./template.html"),this.el=domify(this.template),this._classes=classes(this.el),this.render(options),active&&!active.hiding&&active.hide(),exports.effect&&this.effect(exports.effect),active=this;var self=this;this.on("escape",function(){self.hide()})}var active,Emitter=require("emitter"),overlay=require("overlay"),domify=require("domify"),events=require("event"),classes=require("classes"),query=require("query");exports=module.exports=dialog,exports.Dialog=Dialog,Dialog.prototype=new Emitter,Dialog.prototype.render=function(options){var self=this,el=self.el,title=options.title,titleEl=query(".title",el),pEl=query("p",el),msg=options.message;events.bind(query(".close",el),"click",function(ev){ev.preventDefault(),self.emit("close"),self.hide()}),titleEl&&(title?titleEl.textContent=title:titleEl.parentNode.removeChild(titleEl)),"string"==typeof msg?pEl.textContent=msg:msg&&(pEl.parentNode.insertBefore(msg.el||msg,pEl),pEl.parentNode.removeChild(pEl))},Dialog.prototype.closable=function(){return this.addClass("closable")},Dialog.prototype.addClass=function(name){return this._classes.add(name),this},Dialog.prototype.effect=function(type){return this._effect=type,this.addClass(type),this},Dialog.prototype.modal=function(){return this._overlay=overlay(),this},Dialog.prototype.overlay=function(opts){var self=this;opts=opts||{closable:!0};var o=overlay(opts);return o.on("hide",function(){self._overlay=null,self.hide()}),this._overlay=o,this},Dialog.prototype.escapable=function(){var self=this;return self._escKeyCallback=self._escKeyCallback||function(e){e.which=e.which||e.keyCode,27===e.which&&self.emit("escape")},events.bind(document,"keydown",self._escKeyCallback),this},Dialog.prototype.fixed=function(){return this._fixed=!0,this},Dialog.prototype.show=function(){var overlay=this._overlay;return overlay&&(overlay.show(),this._classes.add("modal")),(!overlay||overlay.closable)&&this.escapable(),document.body.appendChild(this.el),this._classes.remove("hide"),this.emit("show"),this},Dialog.prototype.hideOverlay=function(){this._overlay&&(this._overlay.remove(),this._overlay=null)},Dialog.prototype.hide=function(ms){var self=this;return self._escKeyCallback&&events.unbind(document,"keydown",self._escKeyCallback),self.hiding=!0,ms?(setTimeout(function(){self.hide()},ms),self):(self._classes.add("hide"),self._effect?setTimeout(function(){self.remove()},500):self.remove(),self.hideOverlay(),self)},Dialog.prototype.remove=function(){return this.el.parentNode&&(this.emit("hide"),this.el.parentNode.removeChild(this.el)),this}},{"./template.html":31,classes:23,domify:32,emitter:25,event:26,overlay:28,query:27}],23:[function(require,module,exports){function ClassList(el){if(!el||!el.nodeType)throw new Error("A DOM element reference is required");this.el=el,this.list=el.classList}var index=require("indexof"),re=/\s+/,toString=Object.prototype.toString;module.exports=function(el){return new ClassList(el)},ClassList.prototype.add=function(name){if(this.list)return this.list.add(name),this;var arr=this.array(),i=index(arr,name);return~i||arr.push(name),this.el.className=arr.join(" "),this},ClassList.prototype.remove=function(name){if("[object RegExp]"==toString.call(name))return this.removeMatching(name);if(this.list)return this.list.remove(name),this;var arr=this.array(),i=index(arr,name);return~i&&arr.splice(i,1),this.el.className=arr.join(" "),this},ClassList.prototype.removeMatching=function(re){for(var arr=this.array(),i=0;i<arr.length;i++)re.test(arr[i])&&this.remove(arr[i]);return this},ClassList.prototype.toggle=function(name,force){return this.list?("undefined"!=typeof force?force!==this.list.toggle(name,force)&&this.list.toggle(name):this.list.toggle(name),this):("undefined"!=typeof force?force?this.add(name):this.remove(name):this.has(name)?this.remove(name):this.add(name),this)},ClassList.prototype.array=function(){var className=this.el.getAttribute("class")||"",str=className.replace(/^\s+|\s+$/g,""),arr=str.split(re);return""===arr[0]&&arr.shift(),arr},ClassList.prototype.has=ClassList.prototype.contains=function(name){return this.list?this.list.contains(name):!!~index(this.array(),name)}},{indexof:24}],24:[function(require,module,exports){module.exports=function(arr,obj){if(arr.indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],25:[function(require,module,exports){function Emitter(obj){return obj?mixin(obj):void 0}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],26:[function(require,module,exports){var bind=window.addEventListener?"addEventListener":"attachEvent",unbind=window.removeEventListener?"removeEventListener":"detachEvent",prefix="addEventListener"!==bind?"on":"";exports.bind=function(el,type,fn,capture){return el[bind](prefix+type,fn,capture||!1),fn},exports.unbind=function(el,type,fn,capture){return el[unbind](prefix+type,fn,capture||!1),fn}},{}],27:[function(require,module,exports){function one(selector,el){return el.querySelector(selector)}exports=module.exports=function(selector,el){return el=el||document,one(selector,el)},exports.all=function(selector,el){return el=el||document,el.querySelectorAll(selector)},exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");return one=obj.one,exports.all=obj.all,exports}},{}],28:[function(require,module,exports){function overlay(options){return options=options||{},options.nodeName&&(options={target:options}),new Overlay(options)}function Overlay(options){Emitter.call(this),options=options||{},this.target=options.target||document.body,this.closable=options.closable,this.el=domify(tmpl),this.closable&&(event.bind(this.el,"click",this.hide.bind(this)),classes(this.el).add("closable"))}var Emitter=require("emitter"),tmpl=require("./template.html"),domify=require("domify"),event=require("event"),classes=require("classes");exports=module.exports=overlay,exports.Overlay=Overlay,Emitter(Overlay.prototype),Overlay.prototype.show=function(){var self=this;return this.emit("show"),this.target.appendChild(this.el),setTimeout(function(){classes(self.el).remove("hidden")}),this},Overlay.prototype.hide=function(){return this.emit("hide"),this.remove()},Overlay.prototype.remove=function(){var self=this;return this.emit("close"),classes(this.el).add("hidden"),setTimeout(function(){self.target.removeChild(self.el)},350),this}},{"./template.html":30,classes:23,domify:32,emitter:29,event:26}],29:[function(require,module,exports){function Emitter(obj){return obj?mixin(obj):void 0}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],30:[function(require,module,exports){module.exports='<div class="overlay hidden"></div>\r\n'},{}],31:[function(require,module,exports){module.exports='<div class="dialog hide">\r\n  <div class="content">\r\n    <span class="title">Title</span>\r\n    <a href="#" class="close">&times;<em>close</em></a>\r\n    <div class="body">\r\n      <p>Message</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},{}],32:[function(require,module,exports){function parse(html,doc){if("string"!=typeof html)throw new TypeError("String expected");doc||(doc=document);var m=/<([\w:]+)/.exec(html);if(!m)return doc.createTextNode(html);html=html.replace(/^\s+|\s+$/g,"");var tag=m[1];if("body"==tag){var el=doc.createElement("html");return el.innerHTML=html,el.removeChild(el.lastChild)}var wrap=map[tag]||map._default,depth=wrap[0],prefix=wrap[1],suffix=wrap[2],el=doc.createElement("div");for(el.innerHTML=prefix+html+suffix;depth--;)el=el.lastChild;if(el.firstChild==el.lastChild)return el.removeChild(el.firstChild);for(var fragment=doc.createDocumentFragment();el.firstChild;)fragment.appendChild(el.removeChild(el.firstChild));return fragment}module.exports=parse;var div=document.createElement("div");div.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var innerHTMLBug=!div.getElementsByTagName("link").length;div=void 0;var map={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:innerHTMLBug?[1,"X<div>","</div>"]:[0,"",""]};map.td=map.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],map.option=map.optgroup=[1,'<select multiple="multiple">',"</select>"],map.thead=map.tbody=map.colgroup=map.caption=map.tfoot=[1,"<table>","</table>"],map.polyline=map.ellipse=map.polygon=map.circle=map.text=map.line=map.path=map.rect=map.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],33:[function(require,module,exports){function Draggable(target,options){if(!(this instanceof Draggable))return new Draggable(target,options);var self=this;self.id=getUid(),self._ns=".draggy_"+self.id,self.element=target,draggableCache.set(target,self),defineState(self,"css3",self.css3),self.css3=!0,defineState(self,"state",self.state),defineState(self,"axis",self.axis),self.axis=null,extend(self,options),self.handle||(self.handle=self.element),self.state="idle",self.update()}function isZeroArray(arr){return arr[0]||arr[1]||arr[2]||arr[3]?void 0:!0}var css=require("mucss/css"),parseCSSValue=require("mucss/parse-value"),selection=require("mucss/selection"),offsets=require("mucss/offset"),getTranslate=require("mucss/translate"),on=require("emmy/on"),off=require("emmy/off"),emit=require("emmy/emit"),Emitter=require("events"),getClientX=require("get-client-xy").x,getClientY=require("get-client-xy").y,isArray=require("is-array"),isNumber=require("mutype/is-number"),isFn=(require("mutype/is-string"),require("is-function")),defineState=require("define-state"),extend=require("xtend/mutable"),round=require("mumath/round"),between=require("mumath/between"),loop=require("mumath/loop"),getUid=require("get-uid"),q=require("queried"),win=window,doc=document,root=doc.documentElement,draggableCache=Draggable.cache=new WeakMap,proto=Draggable.prototype=Object.create(Emitter.prototype);proto.state={_:{before:function(){var self=this;self.element.classList.add("draggy-idle"),emit(self.element,"idle",null,!0),self.emit("idle"),q.all(self.handle,self.element).forEach(function(el){on(el,"mousedown"+self._ns+" touchstart"+self._ns,function(e){doc.activeElement!==e.target&&(e.preventDefault(),self.setTouch(e),self.update(e),self.state="threshold")})})},after:function(){var self=this;self.element.classList.remove("draggy-idle"),q.all(self.handle,self.element).forEach(function(el){off(el,"touchstart"+self._ns+" mousedown"+self._ns)}),self.release&&(self._trackingInterval=setInterval(function(e){var now=Date.now(),elapsed=now-self.timestamp,dX=self.prevX-self.frame[0],dY=self.prevY-self.frame[1];self.frame[0]=self.prevX,self.frame[1]=self.prevY;var delta=Math.sqrt(dX*dX+dY*dY),v=Math.min(self.velocity*delta/(1+elapsed),self.maxSpeed);return self.speed=.8*v+.2*self.speed,self.angle=Math.atan2(dY,dX),self.emit("track"),self},self.framerate))}},threshold:{before:function(){var self=this;return isZeroArray(self.threshold)?void(self.state="drag"):(self.element.classList.add("draggy-threshold"),self.emit("threshold"),on(doc,"touchmove"+self._ns+" mousemove"+self._ns,function(e){e.preventDefault();var clientX=getClientX(e,self.touchIdx),clientY=getClientY(e,self.touchIdx),difX=self.prevMouseX-clientX,difY=self.prevMouseY-clientY;(difX<self.threshold[0]||difX>self.threshold[2]||difY<self.threshold[1]||difY>self.threshold[3])&&(self.update(e),self.state="drag")}),void on(doc,"mouseup"+self._ns+" touchend"+self._ns,function(e){e.preventDefault(),self.resetTouch(),self.state="idle"}))},after:function(){var self=this;self.element.classList.remove("draggy-threshold"),off(doc,"touchmove"+self._ns+" mousemove"+self._ns+" mouseup"+self._ns+" touchend"+self._ns)}},drag:{before:function(){var self=this;selection.disable(root),self.element.classList.add("draggy-drag"),self.emit("dragstart"),emit(self.element,"dragstart",null,!0),self.emit("drag"),emit(self.element,"drag",null,!0),on(doc,"touchend"+self._ns+" mouseup"+self._ns+" mouseleave"+self._ns,function(e){e.preventDefault(),self.resetTouch(),self.speed>1?self.state="release":self.state="idle"}),on(doc,"touchmove"+self._ns+" mousemove"+self._ns,function(e){self.drag(e)})},after:function(){var self=this;selection.enable(root),self.element.classList.remove("draggy-drag"),self.emit("dragend"),emit(self.element,"dragend",null,!0),off(doc,"touchend"+self._ns+" mouseup"+self._ns+" mouseleave"+self._ns),off(doc,"touchmove"+self._ns+" mousemove"+self._ns),clearInterval(self._trackingInterval)}},release:{before:function(){var self=this;self.element.classList.add("draggy-release"),clearTimeout(self._animateTimeout),css(self.element,{transition:self.releaseDuration+"ms ease-out "+(self.css3?"transform":"position")}),self._animateTimeout=setTimeout(function(){self.state="idle"},self.releaseDuration),self.move(self.prevX+self.speed*Math.cos(self.angle),self.prevY+self.speed*Math.sin(self.angle)),self.speed=0,self.emit("track")},after:function(){var self=this;self.element.classList.remove("draggy-release"),css(this.element,{transition:null})}},destroy:function(){var self=this;clearTimeout(self._animateTimeout);var evts=["touchstart","touchmove","mousedown","mousemove","mouseup","touchend","mouseleave",""].join("."+self._ns+" ");off(self.element,evts),off(doc,evts)}},proto.drag=function(e){var self=this;e.preventDefault();var mouseX=getClientX(e,self.touchIdx),mouseY=getClientY(e,self.touchIdx),diffMouseX=mouseX-self.prevMouseX,diffMouseY=mouseY-self.prevMouseY,mouseAbsX=mouseX+win.pageXOffset,mouseAbsY=mouseY+win.pageYOffset;(e.ctrlKey||e.metaKey)&&(self.sniperOffsetX+=diffMouseX*self.sniperSlowdown,self.sniperOffsetY+=diffMouseY*self.sniperSlowdown);var x=mouseAbsX-self.initOffsetX-self.innerOffsetX-self.sniperOffsetX,y=mouseAbsY-self.initOffsetY-self.innerOffsetY-self.sniperOffsetY;self.move(x,y),self.prevMouseX=mouseX,self.prevMouseY=mouseY,self.emit("drag"),emit(self.element,"drag",null,!0)};var touches=0;proto.setTouch=function(e){return!e.touches||this.isTouched()?this:(this.touchIdx=touches,touches++,this)},proto.resetTouch=function(){return touches=0,this.touchIdx=null,this},proto.isTouched=function(){return null!==this.touchIdx},proto.touchIdx=null,proto.update=function(e){var self=this,initXY=self.getCoords();self.prevX=initXY[0],self.prevY=initXY[1];var selfOffsets=offsets(self.element);self.initOffsetX=selfOffsets.left-self.prevX,self.initOffsetY=selfOffsets.top-self.prevY,self.offsets=selfOffsets,"parent"===self.within&&(self.within=self.element.parentNode||doc);var withinOffsets=offsets(self.within);self.withinOffsets=withinOffsets,self.overflowX=self.pin.width-withinOffsets.width,self.overflowY=self.pin.height-withinOffsets.height,self.limits={left:withinOffsets.left-self.initOffsetX-self.pin[0]-(self.overflowX<0?0:self.overflowX),top:withinOffsets.top-self.initOffsetY-self.pin[1]-(self.overflowY<0?0:self.overflowY),right:self.overflowX>0?0:withinOffsets.right-self.initOffsetX-self.pin[2],bottom:self.overflowY>0?0:withinOffsets.bottom-self.initOffsetY-self.pin[3]},self.innerOffsetX=self.pin[0],self.innerOffsetY=self.pin[1];var selfClientRect=self.element.getBoundingClientRect();if(e)self.prevMouseX=getClientX(e,self.touchIdx),self.prevMouseY=getClientY(e,self.touchIdx),self.innerOffsetX=-selfClientRect.left+getClientX(e,self.touchIdx),self.innerOffsetY=-selfClientRect.top+getClientY(e,self.touchIdx);else{var pinX=.5*(self.pin[0]+self.pin[2]),pinY=.5*(self.pin[1]+self.pin[3]);self.prevMouseX=selfClientRect.left+pinX,self.prevMouseY=selfClientRect.top+pinY,self.innerOffsetX=pinX,self.innerOffsetY=pinY}self.speed=0,self.amplitude=0,self.angle=0,self.timestamp=+new Date,self.frame=[self.prevX,self.prevY],self.sniperOffsetX=0,self.sniperOffsetY=0},proto.css3={_:function(){css(this.element,"position","absolute"),this.getCoords=function(){return[parseCSSValue(css(this.element,"left")),parseCSSValue(css(this.element,"top"))]},this.setCoords=function(x,y){css(this.element,{left:x,top:y}),this.prevX=x,this.prevY=y}},"true":function(){css(this.element,"position",null),this.getCoords=function(){return getTranslate(this.element)||[0,0]},this.setCoords=function(x,y){x=round(x,this.precition),y=round(y,this.precition),css(this.element,"transform",["translate3d(",x,"px,",y,"px, 0)"].join("")),this.prevX=x,this.prevY=y}}},proto.within=doc,proto.handle,Object.defineProperties(proto,{pin:{set:function(value){isArray(value)?2===value.length?this._pin=[value[0],value[1],value[0],value[1]]:4===value.length&&(this._pin=value):isNumber(value)?this._pin=[value,value,value,value]:this._pin=value,this._pin.width=this._pin[2]-this._pin[0],this._pin.height=this._pin[3]-this._pin[1]},get:function(){if(this._pin)return this._pin;var pin=[0,0,this.offsets.width,this.offsets.height];return pin.width=this.offsets.width,pin.height=this.offsets.height,pin}},threshold:{set:function(val){isNumber(val)?this._threshold=[.5*-val,.5*-val,.5*val,.5*val]:2===val.length?this._threshold=[.5*-val[0],.5*-val[1],.5*val[0],.5*val[1]]:4===val.length?this._threshold=val:isFn(val)?this._threshold=val():this._threshold=[0,0,0,0]},get:function(){return this._threshold||[0,0,0,0]}}}),proto.release=!1,proto.releaseDuration=500,proto.velocity=1e3,proto.maxSpeed=250,proto.framerate=50,proto.precision=1,proto.sniper=!0,proto.sniperSlowdown=.85,proto.axis={_:function(){this.move=function(x,y){var limits=this.limits;if(this.repeat){var w=limits.right-limits.left,h=limits.bottom-limits.top,oX=-this.initOffsetX+this.withinOffsets.left-this.pin[0]-Math.max(0,this.overflowX),oY=-this.initOffsetY+this.withinOffsets.top-this.pin[1]-Math.max(0,this.overflowY);"x"===this.repeat?x=loop(x-oX,w)+oX:"y"===this.repeat?y=loop(y-oY,h)+oY:(x=loop(x-oX,w)+oX,y=loop(y-oY,h)+oY)}x=between(x,limits.left,limits.right),y=between(y,limits.top,limits.bottom),this.setCoords(x,y)}},x:function(){this.move=function(x,y){var limits=this.limits;if(this.repeat){var w=limits.right-limits.left,oX=-this.initOffsetX+this.withinOffsets.left-this.pin[0]-Math.max(0,this.overflowX);x=loop(x-oX,w)+oX}else x=between(x,limits.left,limits.right);this.setCoords(x,this.prevY)}},y:function(){this.move=function(x,y){var limits=this.limits;if(this.repeat){var h=limits.bottom-limits.top,oY=-this.initOffsetY+this.withinOffsets.top-this.pin[1]-Math.max(0,this.overflowY);y=loop(y-oY,h)+oY}else y=between(y,limits.top,limits.bottom);this.setCoords(this.prevX,y)}}},proto.repeat=!1,proto.destroy=function(){var self=this;self.state="destroy",self.element=null,self.within=null},module.exports=Draggable},{"define-state":21,"emmy/emit":42,"emmy/off":54,"emmy/on":55,
events:1,"get-client-xy":34,"get-uid":57,"is-array":35,"is-function":63,"mucss/css":66,"mucss/offset":70,"mucss/parse-value":71,"mucss/selection":74,"mucss/translate":75,"mumath/between":36,"mumath/loop":37,"mumath/round":39,"mutype/is-number":78,"mutype/is-string":79,queried:80,"xtend/mutable":106}],34:[function(require,module,exports){function getClientY(e,idx){return e.touches?arguments.length>1?e.touches[idx].clientY:e.targetTouches[0].clientY:e.clientY}function getClientX(e,idx){return e.touches?arguments.length>1?e.touches[idx].clientX:e.targetTouches[0].clientX:e.clientX}function getClientXY(e,idx){return[getClientX(e,idx),getClientY(e,idx)]}getClientXY.x=getClientX,getClientXY.y=getClientY,module.exports=getClientXY},{}],35:[function(require,module,exports){var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},{}],36:[function(require,module,exports){module.exports=require("./wrap")(function(a,min,max){return max>min?Math.max(Math.min(a,max),min):Math.max(Math.min(a,min),max)})},{"./wrap":40}],37:[function(require,module,exports){module.exports=require("./wrap")(function(value,left,right){if(void 0===right&&(right=left,left=0),left>right){var tmp=right;right=left,left=tmp}var frame=right-left;return value=(value+left)%frame-left,left>value&&(value+=frame),value>right&&(value-=frame),value})},{"./wrap":40}],38:[function(require,module,exports){module.exports=require("./wrap")(function(n){var s=n+"",d=s.indexOf(".")+1;return d?s.length-d:0})},{"./wrap":40}],39:[function(require,module,exports){var precision=require("./precision");module.exports=require("./wrap")(function(value,step){return 0===step?value:step?(step=parseFloat(step),value=Math.round(value/step)*step,parseFloat(value.toFixed(precision(step)))):Math.round(value)})},{"./precision":38,"./wrap":40}],40:[function(require,module,exports){arguments[4][19][0].apply(exports,arguments)},{dup:19}],41:[function(require,module,exports){function delegate(target,evt,fn,selector){return on(target,evt,delegate.wrap(target,evt,fn,selector))}module.exports=delegate;var on=require("./on"),closest="undefined"!=typeof document?require("closest"):null,isFn=require("is-function"),contains=require("contains");delegate.wrap=function(target,evt,fn,selector){if(closest){if(isFn(selector)){var tmp=selector;selector=fn,fn=tmp}return on.wrap(target,evt,fn,function(e){var el=e.target;if(el!==target){var holderEl=closest(el,selector,!0);return holderEl&&target!==holderEl&&contains(target,holderEl)?(e.delegateTarget=holderEl,!0):void 0}})}}},{"./on":55,closest:44,contains:46,"is-function":48}],42:[function(require,module,exports){function emit(target,eventName,data,bubbles){var emitMethod,evt=eventName;isNode(target)||target===win?(isEvent(eventName)?evt=eventName:(evt=doc.createEvent("CustomEvent"),evt.initCustomEvent(eventName,bubbles,!0,data)),emitMethod=target.dispatchEvent):$&&target instanceof $?(evt=$.Event(eventName,data),evt.detail=data,emitMethod=bubbles?targte.trigger:target.triggerHandler):emitMethod=target.dispatchEvent||target.emit||target.trigger||target.fire||target.raise;var args=slice(arguments,2);if(emitMethod&&icicle.freeze(target,"emit"+eventName))return emitMethod.apply(target,[evt].concat(args)),icicle.unfreeze(target,"emit"+eventName),target;for(var evtCallbacks=listeners(target,evt),fireList=slice(evtCallbacks),i=0;i<fireList.length;i++)fireList[i]&&fireList[i].apply(target,args);return target}var icicle=require("icicle"),slice=require("sliced"),isString=require("mutype/is-string"),isNode=require("mutype/is-node"),isEvent=require("mutype/is-event"),listeners=require("./listeners");module.exports=function(target,evt){if(target){var args=arguments;return isString(evt)?(args=slice(arguments,2),void evt.split(/\s+/).forEach(function(evt){evt=evt.split(".")[0],emit.apply(this,[target,evt].concat(args))})):emit.apply(this,args)}};var $="undefined"==typeof jQuery?void 0:jQuery,doc="undefined"==typeof document?void 0:document,win="undefined"==typeof window?void 0:window},{"./listeners":43,icicle:47,"mutype/is-event":49,"mutype/is-node":50,"mutype/is-string":51,sliced:52}],43:[function(require,module,exports){function listeners(target,evt,tags){var cbs=target[cbPropName];if(!evt)return cbs||{};if(!cbs||!cbs[evt])return[];var result=cbs[evt];return tags&&tags.length&&(result=result.filter(function(cb){return hasTags(cb,tags)})),result}function hasTags(cb,tags){if(cb._ns)for(var i=tags.length;i--;)if(cb._ns.indexOf(tags[i])>=0)return!0}var cbPropName="_callbacks";listeners.remove=function(target,evt,cb,tags){var evtCallbacks=target[cbPropName];if(!evtCallbacks||!evtCallbacks[evt])return!1;var callbacks=evtCallbacks[evt];if(tags&&tags.length&&!hasTags(cb,tags))return!1;for(var i=0;i<callbacks.length;i++)if(callbacks[i]===cb||callbacks[i].fn===cb){callbacks.splice(i,1);break}},listeners.add=function(target,evt,cb,tags){if(cb){var targetCallbacks=target[cbPropName];targetCallbacks||(targetCallbacks={},Object.defineProperty(target,cbPropName,{value:targetCallbacks})),(targetCallbacks[evt]=targetCallbacks[evt]||[]).push(cb),tags&&tags.length&&(cb._ns=tags)}},module.exports=listeners},{}],44:[function(require,module,exports){var matches=require("matches-selector");module.exports=function(element,selector,checkYoSelf){for(var parent=checkYoSelf?element:element.parentNode;parent&&parent!==document;){if(matches(parent,selector))return parent;parent=parent.parentNode}}},{"matches-selector":45}],45:[function(require,module,exports){function match(el,selector){if(vendor)return vendor.call(el,selector);for(var nodes=el.parentNode.querySelectorAll(selector),i=0;i<nodes.length;++i)if(nodes[i]==el)return!0;return!1}var proto=Element.prototype,vendor=proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match},{}],46:[function(require,module,exports){function contains(container,elem){if(container.contains)return container.contains(elem);var comparison=container.compareDocumentPosition(elem);return 0===comparison||comparison&DOCUMENT_POSITION_CONTAINED_BY}var DOCUMENT_POSITION_CONTAINED_BY=16;module.exports=contains},{}],47:[function(require,module,exports){function lock(target,name){var locks=lockCache.get(target);return locks&&locks[name]?!1:(locks||(locks={},lockCache.set(target,locks)),locks[name]=!0,!0)}function unlock(target,name){var locks=lockCache.get(target);return locks&&locks[name]?(locks[name]=null,!0):!1}function isLocked(target,name){var locks=lockCache.get(target);return locks&&locks[name]}module.exports={freeze:lock,unfreeze:unlock,isFrozen:isLocked};var lockCache=new WeakMap},{}],48:[function(require,module,exports){function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString},{}],49:[function(require,module,exports){module.exports=function(target){return"undefined"!=typeof Event&&target instanceof Event}},{}],50:[function(require,module,exports){module.exports=function(target){return"undefined"!=typeof document&&target instanceof Node}},{}],51:[function(require,module,exports){module.exports=function(a){return"string"==typeof a||a instanceof String}},{}],52:[function(require,module,exports){module.exports=exports=require("./lib/sliced")},{"./lib/sliced":53}],53:[function(require,module,exports){module.exports=function(args,slice,sliceEnd){var ret=[],len=args.length;if(0===len)return ret;var start=0>slice?Math.max(0,slice+len):slice||0;for(void 0!==sliceEnd&&(len=0>sliceEnd?sliceEnd+len:sliceEnd);len-->start;)ret[len-start]=args[len];return ret}},{}],54:[function(require,module,exports){function off(target,evt,fn){if(!target)return target;var callbacks;if(void 0===fn){var args=slice(arguments,1),allOff=target.removeAll||target.removeAllListeners;if(allOff&&allOff.apply(target,args),evt)evt.split(/\s+/).forEach(function(evt){var evtParts=evt.split(".");evt=evtParts.shift(),callbacks=listeners(target,evt,evtParts);for(var i=callbacks.length;i--;)off(target,evt,callbacks[i])});else{callbacks=listeners(target);for(evt in callbacks)off(target,evt)}return target}var offMethod=target.removeEventListener||target.removeListener||target.detachEvent||target.off;return evt.split(/\s+/).forEach(function(evt){var evtParts=evt.split(".");if(evt=evtParts.shift(),offMethod){if(!icicle.freeze(target,"off"+evt))return target;offMethod.call(target,evt,fn),icicle.unfreeze(target,"off"+evt)}fn.closedCall&&(fn.closedCall=!1),listeners.remove(target,evt,fn,evtParts)}),target}module.exports=off;var icicle=require("icicle"),slice=require("sliced"),listeners=require("./listeners")},{"./listeners":43,icicle:47,sliced:52}],55:[function(require,module,exports){function on(target,evt,fn){if(!target)return target;var onMethod=target.addEventListener||target.addListener||target.attachEvent||target.on,cb=fn;return evt.split(/\s+/).forEach(function(evt){var evtParts=evt.split(".");if(evt=evtParts.shift(),onMethod){if(!icicle.freeze(target,"on"+evt))return target;onMethod.call(target,evt,cb),icicle.unfreeze(target,"on"+evt)}listeners.add(target,evt,cb,evtParts)}),target}var icicle=require("icicle"),listeners=require("./listeners");module.exports=on,on.wrap=function(target,evt,fn,condition){var cb=function(){return condition.apply(target,arguments)?fn.apply(target,arguments):void 0};return cb.fn=fn,cb}},{"./listeners":43,icicle:47}],56:[function(require,module,exports){function once(target,evt,fn){if(target){var cb,onceMethod=target.once||target.one||target.addOnceEventListener||target.addOnceListener;return cb=once.wrap(target,evt,fn,off),evt.split(/\s+/).forEach(function(evt){if(onceMethod&&icicle.freeze(target,"one"+evt)){var res=onceMethod.call(target,evt,fn);return icicle.unfreeze(target,"one"+evt),res}on(target,evt,cb)}),cb}}module.exports=once;var icicle=require("icicle"),on=require("./on"),off=require("./off");once.wrap=function(target,evt,fn,off){var cb=function(){off(target,evt,cb),fn.apply(target,arguments)};return cb.fn=fn,cb}},{"./off":54,"./on":55,icicle:47}],57:[function(require,module,exports){var counter=Date.now()%1e9;module.exports=function(){return(1e9*Math.random()>>>0)+counter++}},{}],58:[function(require,module,exports){window.webkitRTCPeerConnection||window.mozRTCPeerConnection||(window.RTCPeerConnection=null);require("webrtc-adapter-test");module.exports=function(constraints,cb){var error,haveOpts=2===arguments.length,defaultOpts={video:!0,audio:!0},denied="PermissionDeniedError",altDenied="PERMISSION_DENIED",notSatisfied="ConstraintNotSatisfiedError";return haveOpts||(cb=constraints,constraints=defaultOpts),navigator.getUserMedia?constraints.audio||constraints.video?(localStorage&&"true"===localStorage.useFirefoxFakeDevice&&(constraints.fake=!0),void navigator.getUserMedia(constraints,function(stream){cb(null,stream)},function(err){var error;"string"==typeof err?(error=new Error("MediaStreamError"),err===denied||err===altDenied?error.name=denied:error.name=notSatisfied):(error=err,error.name||(error[denied]?err.name=denied:err.name=notSatisfied)),cb(error)})):(error=new Error("MediaStreamError"),error.name="NoMediaRequestedError",window.setTimeout(function(){cb(error)},0)):(error=new Error("MediaStreamError"),error.name="NotSupportedError",window.setTimeout(function(){cb(error)},0))}},{"webrtc-adapter-test":59}],59:[function(require,module,exports){"use strict";function requestUserMedia(constraints){return new Promise(function(resolve,reject){getUserMedia(constraints,resolve,reject)})}var getUserMedia=null,attachMediaStream=null,reattachMediaStream=null,webrtcDetectedBrowser=null,webrtcDetectedVersion=null,webrtcMinimumVersion=null;if(navigator.mozGetUserMedia){if(console.log("This appears to be Firefox"),webrtcDetectedBrowser="firefox",webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10),webrtcMinimumVersion=31,window.RTCPeerConnection=function(pcConfig,pcConstraints){if(38>webrtcDetectedVersion&&pcConfig&&pcConfig.iceServers){for(var newIceServers=[],i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(server.hasOwnProperty("urls"))for(var j=0;j<server.urls.length;j++){var newServer={url:server.urls[j]};0===server.urls[j].indexOf("turn")&&(newServer.username=server.username,newServer.credential=server.credential),newIceServers.push(newServer)}else newIceServers.push(pcConfig.iceServers[i])}pcConfig.iceServers=newIceServers}return new mozRTCPeerConnection(pcConfig,pcConstraints)},window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate,getUserMedia=38>webrtcDetectedVersion?function(c,onSuccess,onError){var constraintsToFF37=function(c){if("object"!=typeof c||c.require)return c;var require=[];return Object.keys(c).forEach(function(key){var r=c[key]="object"==typeof c[key]?c[key]:{ideal:c[key]};if(void 0!==r.exact&&(r.min=r.max=r.exact,delete r.exact),(void 0!==r.min||void 0!==r.max)&&require.push(key),void 0!==r.ideal){c.advanced=c.advanced||[];var oc={};oc[key]={min:r.ideal,max:r.ideal},c.advanced.push(oc),delete r.ideal,Object.keys(r).length||delete c[key]}}),require.length&&(c.require=require),c};return console.log("spec: "+JSON.stringify(c)),c.audio=constraintsToFF37(c.audio),c.video=constraintsToFF37(c.video),console.log("ff37: "+JSON.stringify(c)),navigator.mozGetUserMedia(c,onSuccess,onError)}:navigator.mozGetUserMedia.bind(navigator),navigator.getUserMedia=getUserMedia,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:requestUserMedia,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(resolve){var infos=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];resolve(infos)})},41>webrtcDetectedVersion){var orgEnumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return orgEnumerateDevices()["catch"](function(e){if("NotFoundError"===e.name)return[];throw e})}}attachMediaStream=function(element,stream){console.log("Attaching media stream"),element.mozSrcObject=stream},reattachMediaStream=function(to,from){console.log("Reattaching media stream"),to.mozSrcObject=from.mozSrcObject}}else navigator.webkitGetUserMedia?(console.log("This appears to be Chrome"),webrtcDetectedBrowser="chrome",webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10),webrtcMinimumVersion=38,window.RTCPeerConnection=function(pcConfig,pcConstraints){return new webkitRTCPeerConnection(pcConfig,pcConstraints)},["createOffer","createAnswer"].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var self=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var opts=1===arguments.length?arguments[0]:void 0;return new Promise(function(resolve,reject){nativeMethod.apply(self,[resolve,reject,opts])})}return nativeMethod.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var args=arguments,self=this;return new Promise(function(resolve,reject){nativeMethod.apply(self,[args[0],function(){resolve(),args.length>=2&&args[1].apply(null,[])},function(err){reject(err),args.length>=3&&args[2].apply(null,[err])}])})}}),getUserMedia=function(c,onSuccess,onError){var constraintsToChrome=function(c){if("object"!=typeof c||c.mandatory||c.optional)return c;var cc={};return Object.keys(c).forEach(function(key){if("require"!==key&&"advanced"!==key){var r="object"==typeof c[key]?c[key]:{ideal:c[key]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var oldname=function(prefix,name){return prefix?prefix+name.charAt(0).toUpperCase()+name.slice(1):"deviceId"===name?"sourceId":name};if(void 0!==r.ideal){cc.optional=cc.optional||[];var oc={};"number"==typeof r.ideal?(oc[oldname("min",key)]=r.ideal,cc.optional.push(oc),oc={},oc[oldname("max",key)]=r.ideal,cc.optional.push(oc)):(oc[oldname("",key)]=r.ideal,cc.optional.push(oc))}void 0!==r.exact&&"number"!=typeof r.exact?(cc.mandatory=cc.mandatory||{},cc.mandatory[oldname("",key)]=r.exact):["min","max"].forEach(function(mix){void 0!==r[mix]&&(cc.mandatory=cc.mandatory||{},cc.mandatory[oldname(mix,key)]=r[mix])})}}),c.advanced&&(cc.optional=(cc.optional||[]).concat(c.advanced)),cc};return console.log("spec:   "+JSON.stringify(c)),c.audio=constraintsToChrome(c.audio),c.video=constraintsToChrome(c.video),console.log("chrome: "+JSON.stringify(c)),navigator.webkitGetUserMedia(c,onSuccess,onError)},navigator.getUserMedia=getUserMedia,attachMediaStream=function(element,stream){"undefined"!=typeof element.srcObject?element.srcObject=stream:"undefined"!=typeof element.src?element.src=URL.createObjectURL(stream):console.log("Error attaching stream to element.")},reattachMediaStream=function(to,from){to.src=from.src},navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function(){return new Promise(function(resolve){var kinds={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(devices){resolve(devices.map(function(device){return{label:device.label,kind:kinds[device.kind],deviceId:device.id,groupId:""}}))})})}},navigator.mediaDevices.addEventListener=function(){},navigator.mediaDevices.removeEventListener=function(){})):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(console.log("This appears to be Edge"),webrtcDetectedBrowser="edge",webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10),webrtcMinimumVersion=12,attachMediaStream=function(element,stream){element.srcObject=stream},reattachMediaStream=function(to,from){to.srcObject=from.srcObject}):console.log("Browser does not appear to be WebRTC-capable");"undefined"!=typeof module&&(module.exports={RTCPeerConnection:RTCPeerConnection,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion})},{}],60:[function(require,module,exports){(function(global){"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(require,module,exports){"use strict";module.exports=function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}},{}],62:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],63:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{dup:48}],64:[function(require,module,exports){(function(global){(function(){function runInContext(context,exports){function has(name){if(has[name]!==undef)return has[name];var isSupported;if("bug-string-char-index"==name)isSupported="a"!="a"[0];else if("json"==name)isSupported=has("json-stringify")&&has("json-parse");else{var value,serialized='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==name){var stringify=exports.stringify,stringifySupported="function"==typeof stringify&&isExtended;if(stringifySupported){(value=function(){return 1}).toJSON=value;try{stringifySupported="0"===stringify(0)&&"0"===stringify(new Number)&&'""'==stringify(new String)&&stringify(getClass)===undef&&stringify(undef)===undef&&stringify()===undef&&"1"===stringify(value)&&"[1]"==stringify([value])&&"[null]"==stringify([undef])&&"null"==stringify(null)&&"[null,null,null]"==stringify([undef,getClass,null])&&stringify({a:[value,!0,!1,null,"\x00\b\n\f\r	"]})==serialized&&"1"===stringify(null,value)&&"[\n 1,\n 2\n]"==stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==stringify(new Date(-1))}catch(exception){stringifySupported=!1}}isSupported=stringifySupported}if("json-parse"==name){var parse=exports.parse;if("function"==typeof parse)try{if(0===parse("0")&&!parse(!1)){value=parse(serialized);var parseSupported=5==value.a.length&&1===value.a[0];if(parseSupported){try{parseSupported=!parse('"	"')}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("01")}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("1.")}catch(exception){}}}}catch(exception){parseSupported=!1}isSupported=parseSupported}}return has[name]=!!isSupported}context||(context=root.Object()),exports||(exports=root.Object());var Number=context.Number||root.Number,String=context.String||root.String,Object=context.Object||root.Object,Date=context.Date||root.Date,SyntaxError=context.SyntaxError||root.SyntaxError,TypeError=context.TypeError||root.TypeError,Math=context.Math||root.Math,nativeJSON=context.JSON||root.JSON;"object"==typeof nativeJSON&&nativeJSON&&(exports.stringify=nativeJSON.stringify,exports.parse=nativeJSON.parse);var isProperty,forEach,undef,objectProto=Object.prototype,getClass=objectProto.toString,isExtended=new Date(-0xc782b5b800cec);try{isExtended=-109252==isExtended.getUTCFullYear()&&0===isExtended.getUTCMonth()&&1===isExtended.getUTCDate()&&10==isExtended.getUTCHours()&&37==isExtended.getUTCMinutes()&&6==isExtended.getUTCSeconds()&&708==isExtended.getUTCMilliseconds()}catch(exception){}if(!has("json")){var functionClass="[object Function]",dateClass="[object Date]",numberClass="[object Number]",stringClass="[object String]",arrayClass="[object Array]",booleanClass="[object Boolean]",charIndexBuggy=has("bug-string-char-index");if(!isExtended)var floor=Math.floor,Months=[0,31,59,90,120,151,181,212,243,273,304,334],getDay=function(year,month){return Months[month]+365*(year-1970)+floor((year-1969+(month=+(month>1)))/4)-floor((year-1901+month)/100)+floor((year-1601+month)/400)};if((isProperty=objectProto.hasOwnProperty)||(isProperty=function(property){var constructor,members={};return(members.__proto__=null,members.__proto__={toString:1},members).toString!=getClass?isProperty=function(property){var original=this.__proto__,result=property in(this.__proto__=null,this);return this.__proto__=original,result}:(constructor=members.constructor,isProperty=function(property){var parent=(this.constructor||constructor).prototype;return property in this&&!(property in parent&&this[property]===parent[property])}),members=null,isProperty.call(this,property)}),forEach=function(object,callback){var Properties,members,property,size=0;(Properties=function(){this.valueOf=0}).prototype.valueOf=0,members=new Properties;for(property in members)isProperty.call(members,property)&&size++;return Properties=members=null,size?forEach=2==size?function(object,callback){var property,members={},isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||isProperty.call(members,property)||!(members[property]=1)||!isProperty.call(object,property)||callback(property)}:function(object,callback){var property,isConstructor,isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||!isProperty.call(object,property)||(isConstructor="constructor"===property)||callback(property);(isConstructor||isProperty.call(object,property="constructor"))&&callback(property)}:(members=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],forEach=function(object,callback){var property,length,isFunction=getClass.call(object)==functionClass,hasProperty=!isFunction&&"function"!=typeof object.constructor&&objectTypes[typeof object.hasOwnProperty]&&object.hasOwnProperty||isProperty;for(property in object)isFunction&&"prototype"==property||!hasProperty.call(object,property)||callback(property);for(length=members.length;property=members[--length];hasProperty.call(object,property)&&callback(property));}),forEach(object,callback)},!has("json-stringify")){var Escapes={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},leadingZeroes="000000",toPaddedString=function(width,value){return(leadingZeroes+(value||0)).slice(-width)},unicodePrefix="\\u00",quote=function(value){for(var result='"',index=0,length=value.length,useCharIndex=!charIndexBuggy||length>10,symbols=useCharIndex&&(charIndexBuggy?value.split(""):value);length>index;index++){var charCode=value.charCodeAt(index);switch(charCode){case 8:case 9:case 10:case 12:case 13:case 34:case 92:result+=Escapes[charCode];break;default:if(32>charCode){result+=unicodePrefix+toPaddedString(2,charCode.toString(16));break}result+=useCharIndex?symbols[index]:value.charAt(index)}}return result+'"'},serialize=function(property,object,callback,properties,whitespace,indentation,stack){var value,className,year,month,date,time,hours,minutes,seconds,milliseconds,results,element,index,length,prefix,result;try{value=object[property]}catch(exception){}if("object"==typeof value&&value)if(className=getClass.call(value),className!=dateClass||isProperty.call(value,"toJSON"))"function"==typeof value.toJSON&&(className!=numberClass&&className!=stringClass&&className!=arrayClass||isProperty.call(value,"toJSON"))&&(value=value.toJSON(property));else if(value>-1/0&&1/0>value){if(getDay){for(date=floor(value/864e5),year=floor(date/365.2425)+1970-1;getDay(year+1,0)<=date;year++);for(month=floor((date-getDay(year,0))/30.42);getDay(year,month+1)<=date;month++);date=1+date-getDay(year,month),time=(value%864e5+864e5)%864e5,hours=floor(time/36e5)%24,minutes=floor(time/6e4)%60,seconds=floor(time/1e3)%60,milliseconds=time%1e3}else year=value.getUTCFullYear(),month=value.getUTCMonth(),date=value.getUTCDate(),hours=value.getUTCHours(),minutes=value.getUTCMinutes(),seconds=value.getUTCSeconds(),milliseconds=value.getUTCMilliseconds();value=(0>=year||year>=1e4?(0>year?"-":"+")+toPaddedString(6,0>year?-year:year):toPaddedString(4,year))+"-"+toPaddedString(2,month+1)+"-"+toPaddedString(2,date)+"T"+toPaddedString(2,hours)+":"+toPaddedString(2,minutes)+":"+toPaddedString(2,seconds)+"."+toPaddedString(3,milliseconds)+"Z"}else value=null;if(callback&&(value=callback.call(object,property,value)),null===value)return"null";if(className=getClass.call(value),className==booleanClass)return""+value;if(className==numberClass)return value>-1/0&&1/0>value?""+value:"null";if(className==stringClass)return quote(""+value);if("object"==typeof value){for(length=stack.length;length--;)if(stack[length]===value)throw TypeError();if(stack.push(value),results=[],prefix=indentation,indentation+=whitespace,className==arrayClass){for(index=0,length=value.length;length>index;index++)element=serialize(index,value,callback,properties,whitespace,indentation,stack),results.push(element===undef?"null":element);result=results.length?whitespace?"[\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"]":"["+results.join(",")+"]":"[]"}else forEach(properties||value,function(property){var element=serialize(property,value,callback,properties,whitespace,indentation,stack);element!==undef&&results.push(quote(property)+":"+(whitespace?" ":"")+element)}),result=results.length?whitespace?"{\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"}":"{"+results.join(",")+"}":"{}";return stack.pop(),result}};exports.stringify=function(source,filter,width){var whitespace,callback,properties,className;if(objectTypes[typeof filter]&&filter)if((className=getClass.call(filter))==functionClass)callback=filter;else if(className==arrayClass){properties={};for(var value,index=0,length=filter.length;length>index;value=filter[index++],className=getClass.call(value),(className==stringClass||className==numberClass)&&(properties[value]=1));}if(width)if((className=getClass.call(width))==numberClass){if((width-=width%1)>0)for(whitespace="",width>10&&(width=10);whitespace.length<width;whitespace+=" ");}else className==stringClass&&(whitespace=width.length<=10?width:width.slice(0,10));return serialize("",(value={},value[""]=source,value),callback,properties,whitespace,"",[])}}if(!has("json-parse")){var Index,Source,fromCharCode=String.fromCharCode,Unescapes={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},abort=function(){throw Index=Source=null,SyntaxError()},lex=function(){for(var value,begin,position,isSigned,charCode,source=Source,length=source.length;length>Index;)switch(charCode=source.charCodeAt(Index)){case 9:case 10:case 13:case 32:Index++;break;case 123:case 125:case 91:case 93:case 58:case 44:return value=charIndexBuggy?source.charAt(Index):source[Index],Index++,value;case 34:for(value="@",Index++;length>Index;)if(charCode=source.charCodeAt(Index),32>charCode)abort();else if(92==charCode)switch(charCode=source.charCodeAt(++Index)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:value+=Unescapes[charCode],Index++;break;case 117:for(begin=++Index,position=Index+4;position>Index;Index++)charCode=source.charCodeAt(Index),charCode>=48&&57>=charCode||charCode>=97&&102>=charCode||charCode>=65&&70>=charCode||abort();value+=fromCharCode("0x"+source.slice(begin,Index));break;default:abort()}else{if(34==charCode)break;for(charCode=source.charCodeAt(Index),begin=Index;charCode>=32&&92!=charCode&&34!=charCode;)charCode=source.charCodeAt(++Index);value+=source.slice(begin,Index)}if(34==source.charCodeAt(Index))return Index++,value;abort();default:if(begin=Index,45==charCode&&(isSigned=!0,charCode=source.charCodeAt(++Index)),charCode>=48&&57>=charCode){for(48==charCode&&(charCode=source.charCodeAt(Index+1),charCode>=48&&57>=charCode)&&abort(),isSigned=!1;length>Index&&(charCode=source.charCodeAt(Index),charCode>=48&&57>=charCode);Index++);if(46==source.charCodeAt(Index)){for(position=++Index;length>position&&(charCode=source.charCodeAt(position),charCode>=48&&57>=charCode);position++);position==Index&&abort(),Index=position}if(charCode=source.charCodeAt(Index),101==charCode||69==charCode){for(charCode=source.charCodeAt(++Index),(43==charCode||45==charCode)&&Index++,position=Index;length>position&&(charCode=source.charCodeAt(position),charCode>=48&&57>=charCode);position++);position==Index&&abort(),Index=position}return+source.slice(begin,Index)}if(isSigned&&abort(),"true"==source.slice(Index,Index+4))return Index+=4,!0;if("false"==source.slice(Index,Index+5))return Index+=5,!1;if("null"==source.slice(Index,Index+4))return Index+=4,null;abort()}return"$"},get=function(value){var results,hasMembers;if("$"==value&&abort(),"string"==typeof value){if("@"==(charIndexBuggy?value.charAt(0):value[0]))return value.slice(1);if("["==value){for(results=[];value=lex(),"]"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"]"==value&&abort()):abort()),","==value&&abort(),results.push(get(value));return results}if("{"==value){for(results={};value=lex(),"}"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"}"==value&&abort()):abort()),(","==value||"string"!=typeof value||"@"!=(charIndexBuggy?value.charAt(0):value[0])||":"!=lex())&&abort(),
results[value.slice(1)]=get(lex());return results}abort()}return value},update=function(source,property,callback){var element=walk(source,property,callback);element===undef?delete source[property]:source[property]=element},walk=function(source,property,callback){var length,value=source[property];if("object"==typeof value&&value)if(getClass.call(value)==arrayClass)for(length=value.length;length--;)update(value,length,callback);else forEach(value,function(property){update(value,property,callback)});return callback.call(source,property,value)};exports.parse=function(source,callback){var result,value;return Index=0,Source=""+source,result=get(lex()),"$"!=lex()&&abort(),Index=Source=null,callback&&getClass.call(callback)==functionClass?walk((value={},value[""]=result,value),"",callback):result}}}return exports.runInContext=runInContext,exports}var isLoader="function"==typeof define&&define.amd,objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,root=objectTypes[typeof window]&&window||this,freeGlobal=freeExports&&objectTypes[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal),freeExports&&!isLoader)runInContext(root,freeExports);else{var nativeJSON=root.JSON,previousJSON=root.JSON3,isRestored=!1,JSON3=runInContext(root,root.JSON3={noConflict:function(){return isRestored||(isRestored=!0,root.JSON=nativeJSON,root.JSON3=previousJSON,nativeJSON=previousJSON=null),JSON3}});root.JSON={parse:JSON3.parse,stringify:JSON3.stringify}}isLoader&&define(function(){return JSON3})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(require,module,exports){module.exports=function(l,t,r,b,w,h){this.top=t||0,this.bottom=b||0,this.left=l||0,this.right=r||0,void 0!==w&&(this.width=w||this.right-this.left),void 0!==h&&(this.height=h||this.bottom-this.top)}},{}],66:[function(require,module,exports){function prefixize(name){var uName=name[0].toUpperCase()+name.slice(1);return void 0!==fakeStyle[name]?name:void 0!==fakeStyle[prefix+uName]?prefix+uName:""}var fakeStyle=require("./fake-element").style,prefix=require("./prefix").lowercase;module.exports=function(el,obj){if(el&&obj){var name,value;if("string"==typeof obj){if(name=obj,arguments.length<3)return el.style[prefixize(name)];value=arguments[2]||"",obj={},obj[name]=value}for(name in obj)"number"==typeof obj[name]&&/left|right|bottom|top|width|height/i.test(name)&&(obj[name]+="px"),value=obj[name]||"",el.style[prefixize(name)]=value}}},{"./fake-element":67,"./prefix":72}],67:[function(require,module,exports){module.exports=document.createElement("div")},{}],68:[function(require,module,exports){exports.x=function(){return window.innerHeight>document.documentElement.clientHeight},exports.y=function(){return window.innerWidth>document.documentElement.clientWidth}},{}],69:[function(require,module,exports){module.exports=function(el){var parentEl=el;if(el===window)return!0;if(el===document)return!1;for(;parentEl;){if("fixed"===getComputedStyle(parentEl).position)return!0;parentEl=parentEl.offsetParent}return!1}},{}],70:[function(require,module,exports){function offsets(el){if(!el)throw Error("Bad argument");var cRect,result;if(el===win)return result=new Rect(win.pageXOffset,win.pageYOffset),result.width=win.innerWidth-(hasScroll.y()?scrollbar:0),result.height=win.innerHeight-(hasScroll.x()?scrollbar:0),result.right=result.left+result.width,result.bottom=result.top+result.height,result;if(el===doc){var res=offsets(doc.documentElement);return res.bottom=Math.max(window.innerHeight,res.bottom),res.right=Math.max(window.innerWidth,res.right),hasScroll.y(doc.documentElement)&&(res.right-=scrollbar),hasScroll.x(doc.documentElement)&&(res.bottom-=scrollbar),res}try{cRect=el.getBoundingClientRect()}catch(e){cRect=new Rect(el.clientLeft,el.clientTop)}var isFixed=isFixedEl(el),xOffset=isFixed?0:win.pageXOffset,yOffset=isFixed?0:win.pageYOffset;return result=new Rect(cRect.left+xOffset,cRect.top+yOffset,cRect.left+xOffset+el.offsetWidth,cRect.top+yOffset+el.offsetHeight,el.offsetWidth,el.offsetHeight)}var win=window,doc=document,Rect=require("./Rect"),hasScroll=require("./has-scroll"),scrollbar=require("./scrollbar"),isFixedEl=require("./is-fixed");module.exports=offsets},{"./Rect":65,"./has-scroll":68,"./is-fixed":69,"./scrollbar":73}],71:[function(require,module,exports){module.exports=function(str){return str+="",parseFloat(str.slice(0,-2))||0}},{}],72:[function(require,module,exports){var styles=getComputedStyle(document.documentElement,""),pre=(Array.prototype.slice.call(styles).join("").match(/-(moz|webkit|ms)-/)||""===styles.OLink&&["","o"])[1];dom="WebKit|Moz|MS|O".match(new RegExp("("+pre+")","i"))[1],module.exports={dom:dom,lowercase:pre,css:"-"+pre+"-",js:pre[0].toUpperCase()+pre.substr(1)}},{}],73:[function(require,module,exports){var scrollDiv=document.createElement("div"),style=scrollDiv.style;style.width="100px",style.height="100px",style.overflow="scroll",style.position="absolute",style.top="-9999px",document.documentElement.appendChild(scrollDiv),module.exports=scrollDiv.offsetWidth-scrollDiv.clientWidth,document.documentElement.removeChild(scrollDiv)},{}],74:[function(require,module,exports){function pd(e){e.preventDefault()}var css=require("./css");exports.disable=function(el){css(el,{"user-select":"none","user-drag":"none","touch-callout":"none"}),el.setAttribute("unselectable","on"),el.addEventListener("selectstart",pd)},exports.enable=function(el){css(el,{"user-select":null,"user-drag":null,"touch-callout":null}),el.removeAttribute("unselectable"),el.removeEventListener("selectstart",pd)}},{"./css":66}],75:[function(require,module,exports){var css=require("./css"),parseValue=require("./parse-value");module.exports=function(el){var translateStr=css(el,"transform"),match=/translate(?:3d)?\s*\(([^\)]*)\)/.exec(translateStr);if(!match)return null;var values=match[1].split(/\s*,\s*/);return values.map(function(value){return parseValue(value)})}},{"./css":66,"./parse-value":71}],76:[function(require,module,exports){var upper=require("./upper");module.exports=function(str){return str+="",str?upper(str[0])+str.slice(1):str}},{"./upper":77}],77:[function(require,module,exports){module.exports=function(str){return(str+"").toUpperCase()}},{}],78:[function(require,module,exports){module.exports=function(a){return"number"==typeof a||a instanceof Number}},{}],79:[function(require,module,exports){arguments[4][51][0].apply(exports,arguments)},{dup:51}],80:[function(require,module,exports){var doc=require("get-doc"),q=require("./lib/");try{doc.querySelector(":scope")}catch(e){q.registerFilter("scope",require("./lib/pseudos/scope"))}try{doc.querySelector(":has")}catch(e){q.registerFilter("has",require("./lib/pseudos/has")),q.registerFilter("not",require("./lib/pseudos/not"))}try{doc.querySelector(":root")}catch(e){q.registerFilter("root",require("./lib/pseudos/root"))}try{doc.querySelector(":matches")}catch(e){q.registerFilter("matches",require("./lib/pseudos/matches"))}module.exports=q},{"./lib/":81,"./lib/pseudos/has":82,"./lib/pseudos/matches":83,"./lib/pseudos/not":84,"./lib/pseudos/root":85,"./lib/pseudos/scope":86,"get-doc":90}],81:[function(require,module,exports){function registerFilter(name,filter,incSelf){pseudos[name]||(pseudos[name]=filter,pseudos[name].includeSelf=incSelf,filters[name]=!0,regenerateRegExp())}function registerMapper(name,mapper,incSelf){pseudos[name]||(pseudos[name]=mapper,pseudos[name].includeSelf=incSelf,mappers[name]=!0,regenerateRegExp())}function regenerateRegExp(){pseudoRE=new RegExp("::?("+Object.keys(pseudos).join("|")+")(\\\\[0-9]+)?")}function queryMultiple(selector,el){return selector?isString(selector)?(pseudos.scope&&(selector=selector.replace(/^\s*:scope/,"")),el=el?isArrayLike(el)?arrayify(el):el.querySelector?[el]:[querySingle.document]:[querySingle.document],qPseudos(el,selector)):isArray(selector)?selector:[selector]:[]}function querySingle(selector,el){return queryMultiple(selector,el)[0]}function qPseudos(list,selector){if(selector=selector.trim(),!selector)return list;if(">"===selector[0])if(pseudos.scope){var id=getUid();list.forEach(function(el){el.setAttribute("__scoped",id)}),selector='[__scoped="'+id+'"]'+selector}else selector=":scope"+selector;var pseudo,pseudoFn,pseudoParam,pseudoParamId,parts=paren.parse(selector),match=parts[0].match(pseudoRE);if(match){pseudo=match[1],pseudoParamId=match[2],pseudoParamId&&(pseudoParam=paren.stringify(parts[pseudoParamId.slice(1)],parts));var preSelector=paren.stringify(parts[0].slice(0,match.index),parts);return preSelector||mappers[pseudo]||(preSelector="*"),preSelector&&(list=qList(list,preSelector)),pseudoFn=function(el){return pseudos[pseudo](el,pseudoParam)},filters[pseudo]?list=list.filter(pseudoFn):mappers[pseudo]&&(list=unique(arrayify(list.map(pseudoFn)))),selector=parts[0].slice(match.index+match[0].length),qPseudos(list,paren.stringify(selector,parts))}return qList(list,selector)}function qList(list,selector){return unique(arrayify(list.map(function(el){return slice(el.querySelectorAll(selector))})))}var pseudoRE,slice=require("sliced"),unique=require("array-unique"),getUid=require("get-uid"),paren=require("parenthesis"),isString=require("mutype/is-string"),isArray=require("mutype/is-array"),isArrayLike=require("mutype/is-array-like"),arrayify=require("arrayify-compact"),doc=require("get-doc"),pseudos={},filters={},mappers={};querySingle.all=queryMultiple,querySingle.registerFilter=registerFilter,querySingle.registerMapper=registerMapper,querySingle.document=doc,module.exports=querySingle},{"array-unique":87,"arrayify-compact":88,"get-doc":90,"get-uid":92,"mutype/is-array":94,"mutype/is-array-like":93,"mutype/is-string":96,parenthesis:97,sliced:100}],82:[function(require,module,exports){function has(el,subSelector){return!!q(subSelector,el)}var q=require("..");module.exports=has},{"..":81}],83:[function(require,module,exports){function matches(el,selector){if(!el.parentNode){var fragment=q.document.createDocumentFragment();fragment.appendChild(el)}return q.all(selector,el.parentNode).indexOf(el)>-1}var q=require("..");module.exports=matches},{"..":81}],84:[function(require,module,exports){function not(el,selector){return!matches(el,selector)}var matches=require("./matches");module.exports=not},{"./matches":83}],85:[function(require,module,exports){var q=require("..");module.exports=function(el){return el===q.document.documentElement}},{"..":81}],86:[function(require,module,exports){module.exports=function(el){return el.hasAttribute("scoped")}},{}],87:[function(require,module,exports){"use strict";module.exports=function(arr){if(!Array.isArray(arr))throw new TypeError("array-unique expects an array.");for(var len=arr.length,i=-1;i++<len;)for(var j=i+1;j<arr.length;++j)arr[i]===arr[j]&&arr.splice(j--,1);return arr}},{}],88:[function(require,module,exports){"use strict";var flatten=require("array-flatten");module.exports=function(arr){return flatten(Array.isArray(arr)?arr:[arr]).filter(Boolean)}},{"array-flatten":89}],89:[function(require,module,exports){function flattenDepth(array,result,depth){for(var i=0;i<array.length;i++){var value=array[i];depth>0&&Array.isArray(value)?flattenDepth(value,result,depth-1):result.push(value)}return result}function flattenForever(array,result){for(var i=0;i<array.length;i++){var value=array[i];Array.isArray(value)?flattenForever(value,result):result.push(value)}return result}module.exports=function(array,depth){return null==depth?flattenForever(array,[]):flattenDepth(array,[],depth)}},{}],90:[function(require,module,exports){var hasDom=require("has-dom");module.exports=hasDom()?document:null},{"has-dom":91}],91:[function(require,module,exports){arguments[4][61][0].apply(exports,arguments)},{dup:61}],92:[function(require,module,exports){arguments[4][57][0].apply(exports,arguments)},{dup:57}],93:[function(require,module,exports){var isString=require("./is-string"),isArray=require("./is-array"),isFn=require("./is-fn");module.exports=function(a){return isArray(a)||a&&!isString(a)&&!a.nodeType&&("undefined"!=typeof window?a!=window:!0)&&!isFn(a)&&"number"==typeof a.length}},{"./is-array":94,"./is-fn":95,"./is-string":96}],94:[function(require,module,exports){module.exports=function(a){return a instanceof Array}},{}],95:[function(require,module,exports){module.exports=function(a){return!(!a||!a.apply)}},{}],96:[function(require,module,exports){arguments[4][51][0].apply(exports,arguments)},{dup:51}],97:[function(require,module,exports){module.exports={parse:require("./parse"),stringify:require("./stringify")}},{"./parse":98,"./stringify":99}],98:[function(require,module,exports){module.exports=function(str,bracket){function replaceToken(token,idx,str){var refId=res.push(token.slice(1,-1));return"\\"+refId}if("string"!=typeof str)return[str];var prevStr,res=[];bracket=bracket||"()";for(var pRE=new RegExp(["\\",bracket[0],"[^\\",bracket[0],"\\",bracket[1],"]*\\",bracket[1]].join(""));str!=prevStr;)prevStr=str,str=str.replace(pRE,replaceToken);return res.unshift(str),res}},{}],99:[function(require,module,exports){module.exports=function(str,refs,bracket){function replaceRef(token,idx,str){return bracket[0]+refs[token.slice(1)]+bracket[1]}var prevStr;if(!str)return"";for("string"!=typeof str&&(bracket=refs,refs=str,str=refs[0]),bracket=bracket||"()";str!=prevStr;)prevStr=str,str=str.replace(/\\[0-9]+/,replaceRef);return str}},{}],100:[function(require,module,exports){arguments[4][52][0].apply(exports,arguments)},{"./lib/sliced":101,dup:52}],101:[function(require,module,exports){arguments[4][53][0].apply(exports,arguments)},{dup:53}],102:[function(require,module,exports){function State(states,context){return states instanceof State?states:this instanceof State?(this.states=states||{},this.context=context||this,void(this.isInit=!1)):new State(states)}function getValue(holder,meth,ctx){return isFn(holder[meth])?holder[meth].call(ctx):holder[meth]}var Emitter=require("events"),isFn=require("is-function"),isObject=require("is-plain-object");State.options={leaveCallback:"after",enterCallback:"before",changeCallback:"change",remainderState:"_"};var proto=State.prototype=Object.create(Emitter.prototype);proto.set=function(value){var leaveResult,oldValue=this.state,states=this.states,oldStateName=void 0!==states[oldValue]?oldValue:State.options.remainderState,oldState=states[oldStateName],leaveFlag=State.options.leaveCallback+oldStateName;if(this.isInit){if(isObject(oldState)&&!this[leaveFlag]){if(this[leaveFlag]=!0,leaveResult=getValue(oldState,State.options.leaveCallback,this.context),leaveResult===!1)return this[leaveFlag]=!1,!1;if(void 0!==leaveResult&&leaveResult!==value)return this.set(leaveResult),this[leaveFlag]=!1,!1;if(this[leaveFlag]=!1,this.state!==oldValue)return}if(value===oldValue)return!1}else this.isInit=!0;this.state=value;var enterResult,newStateName=void 0!==states[value]?value:State.options.remainderState,newState=states[newStateName],enterFlag=State.options.enterCallback+newStateName;if(!this[enterFlag]){if(this[enterFlag]=!0,enterResult=isObject(newState)?getValue(newState,State.options.enterCallback,this.context):getValue(states,newStateName,this.context),enterResult===!1)return this.set(oldValue),this[enterFlag]=!1,!1;if(void 0!==enterResult&&enterResult!==value)return this.set(enterResult),this[enterFlag]=!1,!1;this[enterFlag]=!1}return value!==oldValue&&this.emit(State.options.changeCallback,value,oldValue),this.context},proto.get=function(){return this.state},module.exports=State},{events:1,"is-function":63,"is-plain-object":103}],103:[function(require,module,exports){"use strict";function isObjectObject(o){return isObject(o)===!0&&"[object Object]"===Object.prototype.toString.call(o)}var isObject=require("isobject");module.exports=function(o){var ctor,prot;return isObjectObject(o)===!1?!1:(ctor=o.constructor,"function"!=typeof ctor?!1:(prot=ctor.prototype,isObjectObject(prot)===!1?!1:prot.hasOwnProperty("isPrototypeOf")===!1?!1:!0))}},{isobject:104}],104:[function(require,module,exports){"use strict";module.exports=function(o){return null!=o&&"object"==typeof o&&!Array.isArray(o)}},{}],105:[function(require,module,exports){module.exports=function(context,fn){if("function"==typeof context){var Context=window.AudioContext||window.webkitAudioContext;if(!Context)throw new Error("AudioContext not supported");fn=context,context=new Context}var self=context.createScriptProcessor(2048,1,1);return self.fn=fn,self.i=self.t=0,window._SAMPLERATE=self.sampleRate=self.rate=context.sampleRate,self.duration=1/0,self.recording=!1,self.onaudioprocess=function(e){var output=e.outputBuffer.getChannelData(0),input=e.inputBuffer.getChannelData(0);self.tick(output,input)},self.tick=function(output,input){output=output||self._buffer,input=input||[];for(var i=0;i<output.length;i+=1)if(self.t=self.i/self.rate,self.i+=1,output[i]=self.fn(self.t,self.i,input[i]),self.i>=self.duration){self.stop();break}return output},self.stop=function(){self.disconnect(),self.playing=!1,self.recording},self.play=function(opts){self.playing||(self.connect(self.context.destination),self.playing=!0,setTimeout(function(){this.node.disconnect()},1e11))},self.record=function(){},self.reset=function(){self.i=self.t=0},self.createSample=function(duration){self.reset();var buffer=self.context.createBuffer(1,duration,self.context.sampleRate),blob=buffer.getChannelData(0);return self.tick(blob),buffer},self}},{}],106:[function(require,module,exports){function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)source.hasOwnProperty(key)&&(target[key]=source[key])}return target}module.exports=extend},{}],107:[function(require,module,exports){module.exports={name:"audio-lab",version:"1.2.0",description:"Audio lab",main:"index.js",scripts:{watch:"watchify -t babelify -r ./index:audio-lab -d -o bundle.js",build:"npm run build-js && npm run build-css && npm run build-html","build-js":"browserify -t babelify -r ./index:audio-lab | uglifyjs -c -- > _demo/bundle.js","build-css":"postcss -u postcss-import -u autoprefixer -u cssnano index.css -o _demo/index.css ","build-html":"cp index.html _demo/index.html",test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"https://github.com/dfcreative/audio-lab"},keywords:["audio","lab"],author:"Deema Ywanov <df.creative@gmail.com>",license:"MIT",bugs:{url:"https://github.com/dfcreative/audio-lab/issues"},homepage:"https://github.com/dfcreative/audio-lab",dependencies:{"audio-context":"^0.1.0","audio-stats":"^1.1.5",autosize:"^3.0.6","define-state":"^1.1.0","dialog-component":"^0.4.4",domify:"^1.3.3",draggy:"^1.1.9",emmy:"^5.2.8","get-uid":"^1.0.1",getusermedia:"^1.3.1",global:"^4.3.0","has-dom":"^1.0.0",inherits:"^2.0.1","is-function":"^1.0.1",json3:"^3.3.2",mucss:"^1.0.0",mustring:"0.0.5",mutype:"^0.3.9","overlay-component":"^0.3.5",queried:"^1.4.1",st8:"^1.1.0",webaudio:"^2.0.0",xtend:"^4.0.0"},devDependencies:{autoprefixer:"^5.2.0",babelify:"^6.1.2",postcss:"^4.1.13","postcss-cli":"^1.3.1","postcss-import":"^6.0.0","uglify-js":"^2.4.23"}}},{}]},{},[]);
